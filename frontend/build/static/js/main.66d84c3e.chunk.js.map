{"version":3,"sources":["constants/userConstants.js","actions/userActions.js","components/layout/Search.js","components/layout/Header.js","components/layout/Footer.js","components/layout/MetaData.js","components/product/Product.js","components/layout/Loader.js","constants/productConstants.js","actions/productActions.js","components/product/FeaturedProduct.js","components/Home.js","components/review/ListReviews.js","constants/cartConstants.js","actions/cartActions.js","components/product/ProductDetails.js","components/cart/Cart.js","components/cart/CheckoutSteps.js","components/cart/Shipping.js","components/cart/ConfirmOrder.js","constants/orderConstants.js","actions/orderActions.js","components/cart/Payment.js","components/cart/OrderSuccess.js","components/order/ListOrders.js","components/order/OrderDetails.js","components/user/Login.js","components/user/Register.js","components/user/Profile.js","components/user/UpdateProfile.js","components/user/UpdatePassword.js","components/user/ForgotPassword.js","components/user/NewPassword.js","components/admin/Sidebar.js","components/admin/Dashboard.js","components/admin/ProductsList.js","components/admin/NewProduct.js","components/admin/UpdateProduct.js","components/admin/OrdersList.js","components/admin/ProcessOrder.js","components/admin/UsersList.js","components/admin/UpdateUser.js","components/admin/ProductReviews.js","components/route/ProtectedRoute.js","store.js","reducers/productReducers.js","reducers/userReducers.js","reducers/cartReducers.js","reducers/orderReducers.js","App.js","index.js"],"names":["LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAIL","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","REGISTER_USER_FAIL","LOAD_USER_REQUEST","LOAD_USER_SUCCESS","LOAD_USER_FAIL","UPDATE_PROFILE_REQUEST","UPDATE_PROFILE_SUCCESS","UPDATE_PROFILE_RESET","UPDATE_PROFILE_FAIL","UPDATE_PASSWORD_REQUEST","UPDATE_PASSWORD_SUCCESS","UPDATE_PASSWORD_RESET","UPDATE_PASSWORD_FAIL","FORGOT_PASSWORD_REQUEST","FORGOT_PASSWORD_SUCCESS","FORGOT_PASSWORD_FAIL","NEW_PASSWORD_REQUEST","NEW_PASSWORD_SUCCESS","NEW_PASSWORD_FAIL","ALL_USERS_REQUEST","ALL_USERS_SUCCESS","ALL_USERS_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","UPDATE_USER_REQUEST","UPDATE_USER_SUCCESS","UPDATE_USER_RESET","UPDATE_USER_FAIL","DELETE_USER_REQUEST","DELETE_USER_SUCCESS","DELETE_USER_RESET","DELETE_USER_FAIL","LOGOUT_SUCCESS","LOGOUT_FAIL","CLEAR_ERRORS","baseUrl","register","userData","dispatch","type","config","headers","axios","post","data","payload","user","response","message","loadUser","get","updateProfile","put","success","allUsers","users","clearErrors","Search","history","useState","keyword","setKeyword","onSubmit","e","preventDefault","trim","push","className","id","placeholder","onChange","target","value","Header","alert","useAlert","useDispatch","useSelector","state","auth","loading","cartItems","cart","Navbar","Row","Col","md","Brand","to","lg","render","style","textDecoration","length","src","avatar","url","alt","name","role","onClick","Footer","action","rel","href","MetaData","title","Helmet","Product","product","col","Image","fluid","height","width","images","_id","substring","ratings","numOfReviews","price","Loader","ADMIN_PRODUCTS_REQUEST","ADMIN_PRODUCTS_SUCCESS","ADMIN_PRODUCTS_FAIL","ALL_PRODUCTS_REQUEST","ALL_PRODUCTS_SUCCESS","ALL_PRODUCTS_FAIL","NEW_PRODUCT_REQUEST","NEW_PRODUCT_SUCCESS","NEW_PRODUCT_RESET","NEW_PRODUCT_FAIL","DELETE_PRODUCT_REQUEST","DELETE_PRODUCT_SUCCESS","DELETE_PRODUCT_RESET","DELETE_PRODUCT_FAIL","UPDATE_PRODUCT_REQUEST","UPDATE_PRODUCT_SUCCESS","UPDATE_PRODUCT_RESET","UPDATE_PRODUCT_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","NEW_REVIEW_REQUEST","NEW_REVIEW_SUCCESS","NEW_REVIEW_RESET","NEW_REVIEW_FAIL","GET_REVIEWS_REQUEST","GET_REVIEWS_SUCCESS","GET_REVIEWS_FAIL","DELETE_REVIEW_REQUEST","DELETE_REVIEW_SUCCESS","DELETE_REVIEW_RESET","DELETE_REVIEW_FAIL","getProductDetails","getAdminProducts","products","getProductReviews","reviews","FeaturedProduct","featuredProducts","filter","featured","slice","Carousel","map","Item","interval","objectFit","minWidth","borderRadius","border","Caption","description","Range","createSliderWithTooltip","Slider","Home","match","currentPage","setCurrentPage","setPrice","category","setCategory","rating","setRating","error","productsCount","resPerPage","filteredProductsCount","params","useEffect","link","getProducts","count","marks","min","max","defaultValue","tipFormatter","tipProps","placement","visible","cursor","listStyleType","star","activePage","itemsCountPerPage","totalItemsCount","pageNumber","nextPageText","prevPageText","firstPageText","lastPageText","itemClass","linkClass","ListReviews","class","review","comment","ADD_TO_CART","REMOVE_ITEM_CART","SAVE_SHIPPING_INFO","addItemToCart","quantity","getState","image","stock","localStorage","setItem","JSON","stringify","ProductDetails","setQuantity","setComment","productDetails","newReview","reviewError","pause","public_id","document","querySelector","valueAsNumber","qty","readOnly","disabled","seller","stars","querySelectorAll","showRatings","forEach","index","starValue","classList","add","remove","addEventListener","tabIndex","reviewData","formData","FormData","set","Cart","removeCartItemHandler","removeItemFromCart","item","newQty","decreaseQty","increaseQty","reduce","acc","Number","toFixed","CheckoutSteps","shipping","confirmOrder","payment","Shipping","countriesList","Object","values","countries","shippingInfo","address","setAddress","city","setCity","postalCode","setPostalCode","phoneNo","setPhoneNo","country","setCountry","htmlFor","required","ConfirmOrder","itemsPrice","shippingPrice","taxPrice","totalPrice","sessionStorage","CREATE_ORDER_REQUEST","CREATE_ORDER_SUCCESS","CREATE_ORDER_FAIL","MY_ORDERS_REQUEST","MY_ORDERS_SUCCESS","MY_ORDERS_FAIL","ALL_ORDERS_REQUEST","ALL_ORDERS_SUCCESS","ALL_ORDERS_FAIL","UPDATE_ORDER_REQUEST","UPDATE_ORDER_SUCCESS","UPDATE_ORDER_RESET","UPDATE_ORDER_FAIL","DELETE_ORDER_REQUEST","DELETE_ORDER_SUCCESS","DELETE_ORDER_RESET","DELETE_ORDER_FAIL","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","createOrder","order","getOrderDetails","allOrders","updateOrder","orderData","options","base","fontSize","invalid","color","Payment","stripe","useStripe","elements","useElements","newOrder","orderItems","orderInfo","parse","getItem","paymentData","amount","Math","round","submitHandler","res","clientSecret","client_secret","confirmCardPayment","payment_method","card","getElement","CardNumberElement","billing_details","email","result","paymentIntent","status","paymentInfo","paymentMethod","removeItem","window","location","reload","Container","Tab","defaultActiveKey","sm","Nav","variant","Link","eventKey","Content","Pane","Card","Button","Body","random","Date","now","OrderSuccess","ListOrders","myOrders","orders","columns","label","field","sort","rows","numOfItems","orderStatus","String","includes","actions","setOrders","bordered","striped","hover","responsiveSm","OrderDetails","orderDetails","shippingDetails","isPaid","Login","setEmail","password","setPassword","isAuthenticated","redirect","search","split","login","Register","setUser","setAvatar","avatarPreview","setAvatarPreview","URL","createObjectURL","files","encType","accept","Profile","createdAt","UpdateProfile","setName","isUpdated","UpdatePassword","oldPassword","setOldPassword","passwords","for","ForgotPassword","forgotPassword","NewPassword","confirmPassword","setConfirmPassword","token","Sidebar","Dashboard","totalAmount","outOfStock","ProductsList","deleteError","isDeleted","deleteProductHandler","delete","deleteProduct","setProducts","NewProduct","setDescription","setStock","setSeller","setImages","imagesPreview","setImagesPreview","newProduct","productData","append","Array","from","file","oldArray","multiple","img","UpdateProduct","oldImages","setOldImages","setFeatured","updateError","productId","OrdersList","deleteOrderHandler","deleteOrder","numofItems","ProcessOrder","setStatus","orderId","updateOrderHandler","UsersList","deleteUserHandler","deleteUser","setUsers","UpdateUser","setRole","userDetails","userId","ProductReviews","setProductId","productReviews","deleteReviewHandler","deleteReview","setReviews","ProtectedRoute","isAdmin","Component","component","rest","props","reducer","combineReducers","isItemExist","find","i","initialState","middlware","thunk","store","createStore","composeWithDevTools","applyMiddleware","App","stripeApiKey","setStripeApiKey","path","exact","loadStripe","timeout","position","positions","BOTTOM_CENTER","transition","transitions","SCALE","ReactDOM","template","AlertTemplate","getElementById"],"mappings":"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","file":"static/js/main.66d84c3e.chunk.js","sourcesContent":["export const LOGIN_REQUEST = 'LOGIN_REQUEST'\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS'\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL'\r\n\r\nexport const REGISTER_USER_REQUEST = 'REGISTER_USER_REQUEST'\r\nexport const REGISTER_USER_SUCCESS = 'REGISTER_USER_SUCCESS'\r\nexport const REGISTER_USER_FAIL = 'REGISTER_USER_FAIL'\r\n\r\nexport const LOAD_USER_REQUEST = 'LOAD_USER_REQUEST'\r\nexport const LOAD_USER_SUCCESS = 'LOAD_USER_SUCCESS'\r\nexport const LOAD_USER_FAIL = 'LOAD_USER_FAIL'\r\n\r\nexport const UPDATE_PROFILE_REQUEST = 'UPDATE_PROFILE_REQUEST'\r\nexport const UPDATE_PROFILE_SUCCESS = 'UPDATE_PROFILE_SUCCESS'\r\nexport const UPDATE_PROFILE_RESET = 'UPDATE_PROFILE_RESET'\r\nexport const UPDATE_PROFILE_FAIL = 'UPDATE_PROFILE_FAIL'\r\n\r\nexport const UPDATE_PASSWORD_REQUEST = 'UPDATE_PASSWORD_REQUEST'\r\nexport const UPDATE_PASSWORD_SUCCESS = 'UPDATE_PASSWORD_SUCCESS'\r\nexport const UPDATE_PASSWORD_RESET = 'UPDATE_PASSWORD_RESET'\r\nexport const UPDATE_PASSWORD_FAIL = 'UPDATE_PASSWORD_FAIL'\r\n\r\nexport const FORGOT_PASSWORD_REQUEST = 'FORGOT_PASSWORD_REQUEST'\r\nexport const FORGOT_PASSWORD_SUCCESS = 'FORGOT_PASSWORD_SUCCESS'\r\nexport const FORGOT_PASSWORD_FAIL = 'FORGOT_PASSWORD_FAIL'\r\n\r\nexport const NEW_PASSWORD_REQUEST = 'NEW_PASSWORD_REQUEST'\r\nexport const NEW_PASSWORD_SUCCESS = 'NEW_PASSWORD_SUCCESS'\r\nexport const NEW_PASSWORD_FAIL = 'NEW_PASSWORD_FAIL'\r\n\r\nexport const ALL_USERS_REQUEST = 'ALL_USERS_REQUEST'\r\nexport const ALL_USERS_SUCCESS = 'ALL_USERS_SUCCESS'\r\nexport const ALL_USERS_FAIL = 'ALL_USERS_FAIL'\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST'\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS'\r\nexport const USER_DETAILS_FAIL = 'USER_DETAILS_FAIL'\r\n\r\nexport const UPDATE_USER_REQUEST = 'UPDATE_USER_REQUEST'\r\nexport const UPDATE_USER_SUCCESS = 'UPDATE_USER_SUCCESS'\r\nexport const UPDATE_USER_RESET = 'UPDATE_USER_RESET'\r\nexport const UPDATE_USER_FAIL = 'UPDATE_USER_FAIL'\r\n\r\nexport const DELETE_USER_REQUEST = 'DELETE_USER_REQUEST'\r\nexport const DELETE_USER_SUCCESS = 'DELETE_USER_SUCCESS'\r\nexport const DELETE_USER_RESET = 'DELETE_USER_RESET'\r\nexport const DELETE_USER_FAIL = 'DELETE_USER_FAIL'\r\n\r\nexport const LOGOUT_SUCCESS = 'LOGOUT_SUCCESS'\r\nexport const LOGOUT_FAIL = 'LOGOUT_FAIL'\r\n\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS'","import axios from 'axios';\r\nimport {\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  REGISTER_USER_REQUEST,\r\n  REGISTER_USER_SUCCESS,\r\n  REGISTER_USER_FAIL,\r\n  LOAD_USER_REQUEST,\r\n  LOAD_USER_SUCCESS,\r\n  LOAD_USER_FAIL,\r\n  UPDATE_PROFILE_REQUEST,\r\n  UPDATE_PROFILE_SUCCESS,\r\n  UPDATE_PROFILE_FAIL,\r\n  UPDATE_PASSWORD_REQUEST,\r\n  UPDATE_PASSWORD_SUCCESS,\r\n  UPDATE_PASSWORD_FAIL,\r\n  FORGOT_PASSWORD_REQUEST,\r\n  FORGOT_PASSWORD_SUCCESS,\r\n  FORGOT_PASSWORD_FAIL,\r\n  NEW_PASSWORD_REQUEST,\r\n  NEW_PASSWORD_SUCCESS,\r\n  NEW_PASSWORD_FAIL,\r\n  ALL_USERS_REQUEST,\r\n  ALL_USERS_SUCCESS,\r\n  ALL_USERS_FAIL,\r\n  USER_DETAILS_REQUEST,\r\n  USER_DETAILS_SUCCESS,\r\n  USER_DETAILS_FAIL,\r\n  UPDATE_USER_REQUEST,\r\n  UPDATE_USER_SUCCESS,\r\n  UPDATE_USER_FAIL,\r\n  DELETE_USER_REQUEST,\r\n  DELETE_USER_SUCCESS,\r\n  DELETE_USER_FAIL,\r\n  LOGOUT_SUCCESS,\r\n  LOGOUT_FAIL,\r\n  CLEAR_ERRORS,\r\n} from '../constants/userConstants';\r\n\r\nconst baseUrl = '';\r\n\r\n// Login\r\nexport const login = (email, password) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: LOGIN_REQUEST });\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n\r\n      },\r\n      \r\n\r\n\r\n\r\n\r\n    };\r\n\r\n    const { data } = await axios.post(\r\n      baseUrl + '/api/v1/login',\r\n      { email, password },\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: LOGIN_SUCCESS,\r\n      payload: data.user,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: LOGIN_FAIL,\r\n      payload: error.response.data.message || error.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Register user\r\nexport const register = (userData) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: REGISTER_USER_REQUEST });\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n        \r\n      },\r\n\r\n\r\n    };\r\n\r\n    const { data } = await axios.post(\r\n      baseUrl + '/api/v1/register',\r\n      userData,\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: REGISTER_USER_SUCCESS,\r\n      payload: data.user,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: REGISTER_USER_FAIL,\r\n      payload: error.response.data.message || error.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Load user\r\nexport const loadUser = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: LOAD_USER_REQUEST });\r\n\r\n    const { data } = await axios.get(baseUrl + '/api/v1/me');\r\n\r\n    dispatch({\r\n      type: LOAD_USER_SUCCESS,\r\n      payload: data.user,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: LOAD_USER_FAIL,\r\n      payload: error.response.data.message || error.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Update profile\r\nexport const updateProfile = (userData) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: UPDATE_PROFILE_REQUEST });\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.put(\r\n      baseUrl + '/api/v1/me/update',\r\n      userData,\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: UPDATE_PROFILE_SUCCESS,\r\n      payload: data.success,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: UPDATE_PROFILE_FAIL,\r\n      payload: error.response.data.message || error.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Update password\r\nexport const updatePassword = (passwords) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: UPDATE_PASSWORD_REQUEST });\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.put(\r\n      baseUrl + '/api/v1/password/update',\r\n      passwords,\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: UPDATE_PASSWORD_SUCCESS,\r\n      payload: data.success,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: UPDATE_PASSWORD_FAIL,\r\n      payload: error.response.data.message || error.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Forgot password\r\nexport const forgotPassword = (email) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: FORGOT_PASSWORD_REQUEST });\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.post(\r\n      baseUrl + '/api/v1/password/forgot',\r\n      email,\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: FORGOT_PASSWORD_SUCCESS,\r\n      payload: data.message,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: FORGOT_PASSWORD_FAIL,\r\n      payload: error.response.data.message || error.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Reset password\r\nexport const resetPassword = (token, passwords) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: NEW_PASSWORD_REQUEST });\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.put(\r\n      baseUrl + `/api/v1/password/reset/${token}`,\r\n      passwords,\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: NEW_PASSWORD_SUCCESS,\r\n      payload: data.success,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: NEW_PASSWORD_FAIL,\r\n      payload: error.response.data.message || error.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Logout user\r\nexport const logout = () => async (dispatch) => {\r\n  try {\r\n    await axios.get(baseUrl + '/api/v1/logout');\r\n\r\n    dispatch({\r\n      type: LOGOUT_SUCCESS,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: LOGOUT_FAIL,\r\n      payload: error.response.data.message || error.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Get all users\r\nexport const allUsers = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ALL_USERS_REQUEST });\r\n\r\n    const { data } = await axios.get(baseUrl + '/api/v1/admin/users');\r\n\r\n    dispatch({\r\n      type: ALL_USERS_SUCCESS,\r\n      payload: data.users,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ALL_USERS_FAIL,\r\n      payload: error.response.data.message || error.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Update user - ADMIN\r\nexport const updateUser = (id, userData) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: UPDATE_USER_REQUEST });\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.put(\r\n      baseUrl + `/api/v1/admin/user/${id}`,\r\n      userData,\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: UPDATE_USER_SUCCESS,\r\n      payload: data.success,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: UPDATE_USER_FAIL,\r\n      payload: error.response.data.message || error.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Get user details - ADMIN\r\nexport const getUserDetails = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: USER_DETAILS_REQUEST });\r\n\r\n    const { data } = await axios.get(baseUrl + `/api/v1/admin/user/${id}`);\r\n\r\n    dispatch({\r\n      type: USER_DETAILS_SUCCESS,\r\n      payload: data.user,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: USER_DETAILS_FAIL,\r\n      payload: error.response.data.message || error.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Delete user - ADMIN\r\nexport const deleteUser = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: DELETE_USER_REQUEST });\r\n\r\n    const { data } = await axios.delete(baseUrl + `/api/v1/admin/user/${id}`);\r\n\r\n    dispatch({\r\n      type: DELETE_USER_SUCCESS,\r\n      payload: data.success,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: DELETE_USER_FAIL,\r\n      payload: error.response.data.message || error.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Clear Errors\r\nexport const clearErrors = () => async (dispatch) => {\r\n  dispatch({\r\n    type: CLEAR_ERRORS,\r\n  });\r\n};\r\n","import React, { useState } from 'react'\r\n\r\nconst Search = ({ history }) => {\r\n\r\n    const [keyword, setKeyword] = useState('');\r\n\r\n    const searchHandler = (e) => {\r\n        e.preventDefault()\r\n\r\n        if (keyword.trim()) {\r\n            history.push(`/search/${keyword}`)\r\n        } else {\r\n            history.push('/')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={searchHandler} >\r\n            <div className=\"input-group\">\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"search_field\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Enter Product Name ...\"\r\n                    onChange={(e) => setKeyword(e.target.value)}\r\n                />\r\n                <div className=\"input-group-append\">\r\n                    <button id=\"search_btn\" className=\"btn\">\r\n                        <i className=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Search\r\n","import React, { Fragment } from 'react';\r\nimport { Route, Link } from 'react-router-dom';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useAlert } from 'react-alert';\r\nimport { logout } from '../../actions/userActions';\r\n\r\nimport Search from './Search';\r\n\r\nimport '../../App.css';\r\nimport { Image, Navbar, Row, Col } from 'react-bootstrap';\r\n\r\nconst Header = () => {\r\n  const alert = useAlert();\r\n  const dispatch = useDispatch();\r\n\r\n  const { user, loading } = useSelector((state) => state.auth);\r\n  const { cartItems } = useSelector((state) => state.cart);\r\n\r\n  const logoutHandler = () => {\r\n    dispatch(logout());\r\n    alert.success('Logged out successfully.');\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Navbar className=\"w-100\">\r\n        <Row className=\"d-flex align-items-center justify-content-between w-100\">\r\n          <Col md={4}>\r\n            <Navbar.Brand className=\"navbar-brand\">\r\n              <Link to=\"/\">\r\n                <b>SHOPEE ECOMMERCE</b>\r\n              </Link>\r\n            </Navbar.Brand>\r\n          </Col>\r\n\r\n          <Col md={5} lg={5}>\r\n            <Route render={({ history }) => <Search history={history} />} />\r\n          </Col>\r\n\r\n          <Col md={3} className=\"\">\r\n            <Link to=\"/cart\" style={{ textDecoration: 'none' }}>\r\n              <span id=\"cart\" className=\"ml-3\">\r\n                Cart\r\n              </span>\r\n              <span className=\"ml-1\" id=\"cart_count\">\r\n                {cartItems.length}\r\n              </span>\r\n            </Link>\r\n\r\n            {user ? (\r\n              <div className=\"ml-4 dropdown d-inline\">\r\n                <Link\r\n                  to=\"#!\"\r\n                  className=\"btn dropdown-toggle text-white mr-4\"\r\n                  type=\"button\"\r\n                  id=\"dropDownMenuButton\"\r\n                  data-toggle=\"dropdown\"\r\n                  aria-haspopup=\"true\"\r\n                  aria-expanded=\"false\"\r\n                >\r\n                  <figure className=\"avatar avatar-nav\">\r\n                    <img\r\n                      src={user.avatar && user.avatar.url}\r\n                      alt={user && user.name}\r\n                      className=\"rounded-circle\"\r\n                    />\r\n                  </figure>\r\n                  <span>{user && user.name}</span>\r\n                </Link>\r\n\r\n                <div\r\n                  className=\"dropdown-menu\"\r\n                  aria-labelledby=\"dropDownMenuButton\"\r\n                >\r\n                  {user && user.role === 'admin' && (\r\n                    <Link className=\"dropdown-item\" to=\"/dashboard\">\r\n                      Dashboard\r\n                    </Link>\r\n                  )}\r\n                  <Link className=\"dropdown-item\" to=\"/orders/me\">\r\n                    Orders\r\n                  </Link>\r\n                  <Link className=\"dropdown-item\" to=\"/me\">\r\n                    Profile\r\n                  </Link>\r\n                  <Link\r\n                    className=\"dropdown-item text-danger\"\r\n                    to=\"/\"\r\n                    onClick={logoutHandler}\r\n                  >\r\n                    Logout\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              !loading && (\r\n                <Link to=\"/login\" className=\"btn ml-4 my-2\" id=\"login_btn\">\r\n                  Login\r\n                </Link>\r\n              )\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </Navbar>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <Fragment>\r\n      <footer className=\"footer-section\">\r\n        <div className=\"container\">\r\n          <div className=\"footer-cta pt-5 pb-5\">\r\n            <div className=\"row\">\r\n              <div className=\"col-xl-4 col-md-4 mb-30\">\r\n                <div className=\"single-cta\">\r\n                  <i className=\"fa fa-map-marker\"></i>\r\n                  <div className=\"cta-text\">\r\n                    <h4>Find us</h4>\r\n                    <span>Phagwara, Punjab, India</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-xl-4 col-md-4 mb-30\">\r\n                <div className=\"single-cta\">\r\n                  <i className=\"fa fa-phone\"></i>\r\n                  <div className=\"cta-text\">\r\n                    <h4>Call us</h4>\r\n                    <span>+91 8100156406</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-xl-4 col-md-4 mb-30\">\r\n                <div className=\"single-cta\">\r\n                  <i className=\"fa fa-envelope-open\"></i>\r\n                  <div className=\"cta-text\">\r\n                    <h4>Mail us</h4>\r\n                    <span>saiketsd23@gmail.com</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"footer-content pt-5 pb-5\">\r\n            <div className=\"row\">\r\n              <div className=\"col-xl-4 col-lg-4 mb-50\">\r\n                <div className=\"footer-widget\">\r\n                  <div className=\"footer-logo\">\r\n                    <Link to=\"index.html\">\r\n                      <img\r\n                        src=\"/images/logo.png\"\r\n                        className=\"img-fluid\"\r\n                        alt=\"logo\"\r\n                      />\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"footer-text\">\r\n                    <p>\r\n                      Lorem ipsum dolor sit amet, consec tetur adipisicing elit,\r\n                      sed do eiusmod tempor incididuntut consec tetur\r\n                      adipisicing elit,Lorem ipsum dolor sit amet.\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"footer-social-icon\">\r\n                    <span>Follow us</span>\r\n                    <Link to=\"#/\">\r\n                      <i className=\"fa fa-facebook\"></i>\r\n                    </Link>\r\n                    <Link to=\"#/\">\r\n                      <i className=\"fa fa-twitter\"></i>\r\n                    </Link>\r\n                    <Link to=\"#/\">\r\n                      <i className=\"fa fa-google\"></i>\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-xl-4 col-lg-4 col-md-6 mb-30\">\r\n                <div className=\"footer-widget\">\r\n                  <div className=\"footer-widget-heading\">\r\n                    <h3>Useful Links</h3>\r\n                  </div>\r\n                  <ul>\r\n                    <li>\r\n                      <Link to=\"/\">Home</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"#/\">about</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"#/\">services</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"#/\">portfolio</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"#/\">Contact</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"#/\">About us</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"#/\">Our Services</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"#/\">Expert Team</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"#/\">Contact us</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"#/\">Latest News</Link>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-xl-4 col-lg-4 col-md-6 mb-50\">\r\n                <div className=\"footer-widget\">\r\n                  <div className=\"footer-widget-heading\">\r\n                    <h3>Subscribe</h3>\r\n                  </div>\r\n                  <div className=\"footer-text mb-25\">\r\n                    <p>\r\n                      Don’t miss to subscribe to our new feeds, kindly fill the\r\n                      form below.\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"subscribe-form\">\r\n                    <form action=\"#\">\r\n                      <input type=\"text\" placeholder=\"Email Address\" />\r\n                      <button>\r\n                        <i className=\"fa fa-telegram\"></i>\r\n                      </button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"copyright-area\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-xl-6 col-lg-6 text-center text-lg-left\">\r\n                <div className=\"copyright-text\">\r\n                  <p>\r\n                    Copyright &copy; 2022, All Right Reserved |{' '}\r\n                    <a\r\n                      target=\"_blank\"\r\n                      rel=\"noreferrer\"\r\n                      href=\"https://www.syket-das.me/\"\r\n                    >\r\n                      Developed By Syket\r\n                    </a>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-xl-6 col-lg-6 d-none d-lg-block text-right\">\r\n                <div className=\"footer-menu\">\r\n                  <ul>\r\n                    <li>\r\n                      <Link to=\"/\">Home</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"#/\">Terms</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"#/\">Privacy</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"#/\">Policy</Link>\r\n                    </li>\r\n                    <li>\r\n                      <Link to=\"#/\">Contact</Link>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst MetaData = ({ title }) => {\r\n    return (\r\n        <Helmet>\r\n            <title>{`${title} - Shopee`}</title>\r\n        </Helmet>\r\n    )\r\n}\r\n\r\nexport default MetaData\r\n","import React from 'react';\r\nimport { Image } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Product = ({ product, col }) => {\r\n  return (\r\n    <div className={`col-sm-12 col-md-6 col-lg-${col} my-3`}>\r\n      <div className=\"card p-3 rounded\">\r\n        <Image\r\n          fluid\r\n          style={{ height: '200px', width: '200px' }}\r\n          // style={{objectFit:\"cover\"}}\r\n\r\n          className=\"card-img-top mx-auto w-100 \"\r\n          src={product.images[0].url}\r\n          alt={product.name}\r\n        />\r\n        <div className=\"card-body d-flex flex-column\">\r\n          <h5 className=\"card-title\">\r\n            <Link to={`/product/${product._id}`}>{product.name.substring(0, 50)}..</Link>\r\n          </h5>\r\n          <div className=\"ratings mt-auto\">\r\n            <div className=\"rating-outer\">\r\n              <div\r\n                className=\"rating-inner\"\r\n                style={{ width: `${(product.ratings / 5) * 100}%` }}\r\n              ></div>\r\n            </div>\r\n            <span id=\"no_of_reviews\">({product.numOfReviews} Reviews)</span>\r\n          </div>\r\n          <p className=\"card-text\">${product.price}</p>\r\n          <Link\r\n            to={`/product/${product._id}`}\r\n            id=\"view_btn\"\r\n            className=\"btn btn-block\"\r\n          >\r\n            View Details\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import React from 'react'\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className=\"loader\"> </div>\r\n    )\r\n}\r\n\r\nexport default Loader\r\n","export const ADMIN_PRODUCTS_REQUEST = 'ADMIN_PRODUCTS_REQUEST'\r\nexport const ADMIN_PRODUCTS_SUCCESS = 'ADMIN_PRODUCTS_SUCCESS'\r\nexport const ADMIN_PRODUCTS_FAIL = 'ADMIN_PRODUCTS_FAIL'\r\n\r\nexport const ALL_PRODUCTS_REQUEST = 'ALL_PRODUCTS_REQUEST'\r\nexport const ALL_PRODUCTS_SUCCESS = 'ALL_PRODUCTS_SUCCESS'\r\nexport const ALL_PRODUCTS_FAIL = 'ALL_PRODUCTS_FAIL'\r\n\r\nexport const NEW_PRODUCT_REQUEST = 'NEW_PRODUCT_REQUEST'\r\nexport const NEW_PRODUCT_SUCCESS = 'NEW_PRODUCT_SUCCESS'\r\nexport const NEW_PRODUCT_RESET = 'NEW_PRODUCT_RESET'\r\nexport const NEW_PRODUCT_FAIL = 'NEW_PRODUCT_FAIL'\r\n\r\nexport const DELETE_PRODUCT_REQUEST = 'DELETE_PRODUCT_REQUEST'\r\nexport const DELETE_PRODUCT_SUCCESS = 'DELETE_PRODUCT_SUCCESS'\r\nexport const DELETE_PRODUCT_RESET = 'DELETE_PRODUCT_RESET'\r\nexport const DELETE_PRODUCT_FAIL = 'DELETE_PRODUCT_FAIL'\r\n\r\nexport const UPDATE_PRODUCT_REQUEST = 'UPDATE_PRODUCT_REQUEST'\r\nexport const UPDATE_PRODUCT_SUCCESS = 'UPDATE_PRODUCT_SUCCESS'\r\nexport const UPDATE_PRODUCT_RESET = 'UPDATE_PRODUCT_RESET'\r\nexport const UPDATE_PRODUCT_FAIL = 'UPDATE_PRODUCT_FAIL'\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST'\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS'\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL'\r\n\r\nexport const NEW_REVIEW_REQUEST = 'NEW_REVIEW_REQUEST'\r\nexport const NEW_REVIEW_SUCCESS = 'NEW_REVIEW_SUCCESS'\r\nexport const NEW_REVIEW_RESET = 'NEW_REVIEW_RESET'\r\nexport const NEW_REVIEW_FAIL = 'NEW_REVIEW_FAIL'\r\n\r\nexport const GET_REVIEWS_REQUEST = 'GET_REVIEWS_REQUEST'\r\nexport const GET_REVIEWS_SUCCESS = 'GET_REVIEWS_SUCCESS'\r\nexport const GET_REVIEWS_FAIL = 'GET_REVIEWS_FAIL'\r\n\r\nexport const DELETE_REVIEW_REQUEST = 'DELETE_REVIEW_REQUEST'\r\nexport const DELETE_REVIEW_SUCCESS = 'DELETE_REVIEW_SUCCESS'\r\nexport const DELETE_REVIEW_RESET = 'DELETE_REVIEW_RESET'\r\nexport const DELETE_REVIEW_FAIL = 'DELETE_REVIEW_FAIL'\r\n\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS'","import axios from 'axios';\r\n\r\nimport {\r\n  ALL_PRODUCTS_REQUEST,\r\n  ALL_PRODUCTS_SUCCESS,\r\n  ALL_PRODUCTS_FAIL,\r\n  ADMIN_PRODUCTS_REQUEST,\r\n  ADMIN_PRODUCTS_SUCCESS,\r\n  ADMIN_PRODUCTS_FAIL,\r\n  NEW_PRODUCT_REQUEST,\r\n  NEW_PRODUCT_SUCCESS,\r\n  NEW_PRODUCT_FAIL,\r\n  DELETE_PRODUCT_REQUEST,\r\n  DELETE_PRODUCT_SUCCESS,\r\n  DELETE_PRODUCT_FAIL,\r\n  UPDATE_PRODUCT_REQUEST,\r\n  UPDATE_PRODUCT_SUCCESS,\r\n  UPDATE_PRODUCT_FAIL,\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_DETAILS_FAIL,\r\n  NEW_REVIEW_REQUEST,\r\n  NEW_REVIEW_SUCCESS,\r\n  NEW_REVIEW_FAIL,\r\n  GET_REVIEWS_REQUEST,\r\n  GET_REVIEWS_SUCCESS,\r\n  GET_REVIEWS_FAIL,\r\n  DELETE_REVIEW_REQUEST,\r\n  DELETE_REVIEW_SUCCESS,\r\n  DELETE_REVIEW_RESET,\r\n  DELETE_REVIEW_FAIL,\r\n  CLEAR_ERRORS,\r\n} from '../constants/productConstants';\r\n\r\nconst baseUrl = '';\r\n\r\nexport const getProducts =\r\n  (keyword = '', currentPage = 1, price, category, rating = 0) =>\r\n  async (dispatch) => {\r\n    try {\r\n      dispatch({ type: ALL_PRODUCTS_REQUEST });\r\n\r\n      let link = `/api/v1/products?keyword=${keyword}&page=${currentPage}&price[lte]=${price[1]}&price[gte]=${price[0]}&ratings[gte]=${rating}`;\r\n\r\n      if (category) {\r\n        link = `/api/v1/products?keyword=${keyword}&page=${currentPage}&price[lte]=${price[1]}&price[gte]=${price[0]}&category=${category}&ratings[gte]=${rating}`;\r\n      }\r\n\r\n      const { data } = await axios.get(baseUrl + link);\r\n\r\n      dispatch({\r\n        type: ALL_PRODUCTS_SUCCESS,\r\n        payload: data,\r\n      });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: ALL_PRODUCTS_FAIL,\r\n        payload: error.response.data.message,\r\n      });\r\n    }\r\n  };\r\n\r\nexport const newProduct = (productData) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: NEW_PRODUCT_REQUEST });\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.post(\r\n      baseUrl + `/api/v1/admin/product/new`,\r\n      productData,\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: NEW_PRODUCT_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: NEW_PRODUCT_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Delete product (Admin)\r\nexport const deleteProduct = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: DELETE_PRODUCT_REQUEST });\r\n\r\n    const { data } = await axios.delete(\r\n      baseUrl + `/api/v1/admin/product/${id}`\r\n    );\r\n\r\n    dispatch({\r\n      type: DELETE_PRODUCT_SUCCESS,\r\n      payload: data.success,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: DELETE_PRODUCT_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Update Product (ADMIN)\r\nexport const updateProduct = (id, productData) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: UPDATE_PRODUCT_REQUEST });\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.put(\r\n      baseUrl + `/api/v1/admin/product/${id}`,\r\n      productData,\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: UPDATE_PRODUCT_SUCCESS,\r\n      payload: data.success,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: UPDATE_PRODUCT_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getProductDetails = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_DETAILS_REQUEST });\r\n\r\n    const { data } = await axios.get(baseUrl + `/api/v1/product/${id}`);\r\n\r\n    dispatch({\r\n      type: PRODUCT_DETAILS_SUCCESS,\r\n      payload: data.product,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_DETAILS_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const newReview = (reviewData) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: NEW_REVIEW_REQUEST });\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.put(\r\n      baseUrl + `/api/v1/review`,\r\n      reviewData,\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: NEW_REVIEW_SUCCESS,\r\n      payload: data.success,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: NEW_REVIEW_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getAdminProducts = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_PRODUCTS_REQUEST });\r\n\r\n    const { data } = await axios.get(baseUrl + `/api/v1/admin/products`);\r\n\r\n    dispatch({\r\n      type: ADMIN_PRODUCTS_SUCCESS,\r\n      payload: data.products,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ADMIN_PRODUCTS_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Get product reviews\r\nexport const getProductReviews = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: GET_REVIEWS_REQUEST });\r\n\r\n    const { data } = await axios.get(baseUrl + `/api/v1/reviews?id=${id}`);\r\n\r\n    dispatch({\r\n      type: GET_REVIEWS_SUCCESS,\r\n      payload: data.reviews,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GET_REVIEWS_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Delete product review\r\nexport const deleteReview = (id, productId) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: DELETE_REVIEW_REQUEST });\r\n\r\n    const { data } = await axios.delete(\r\n      baseUrl + `/api/v1/reviews?id=${id}&productId=${productId}`\r\n    );\r\n\r\n    dispatch({\r\n      type: DELETE_REVIEW_SUCCESS,\r\n      payload: data.success,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: DELETE_REVIEW_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Clear Errors\r\nexport const clearErrors = () => async (dispatch) => {\r\n  dispatch({\r\n    type: CLEAR_ERRORS,\r\n  });\r\n};\r\n","import React from 'react';\r\n\r\nimport { Carousel } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst FeaturedProduct = () => {\r\n  const { products } = useSelector((state) => state.products);\r\n\r\n  let featuredProducts = products.filter(\r\n    (product) => product.featured === true\r\n  );\r\n\r\n  featuredProducts = featuredProducts.slice(0, 4);\r\n\r\n  return (\r\n    <>\r\n      {products.length > 0 ? (\r\n        <Carousel className=\"my-3\">\r\n          {featuredProducts.map((product) => (\r\n            <Carousel.Item interval={2000} key={product._id}>\r\n              <Link to={`/product/${product._id}`}>\r\n                <img\r\n                  className=\"d-block w-100\"\r\n                  src={product.images[0].url}\r\n                  alt={product.name}\r\n                  style={{\r\n                    objectFit: 'cover',\r\n                    minWidth: '100%',\r\n                    height: '400px',\r\n                    borderRadius: '5px',\r\n                    border: '1px solid #e3e3e3',\r\n                  }}\r\n                />\r\n              </Link>\r\n              <Carousel.Caption>\r\n                <h3 className=\"text-dark\">\r\n                  {product.name.substring(0, 50)}...\r\n                </h3>\r\n                <p className=\"text-dark\">\r\n                  {product.description.substring(0, 100)}...\r\n                </p>\r\n              </Carousel.Caption>\r\n            </Carousel.Item>\r\n          ))}\r\n        </Carousel>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FeaturedProduct;\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport Pagination from 'react-js-pagination';\r\nimport Slider from 'rc-slider';\r\nimport 'rc-slider/assets/index.css';\r\n\r\nimport MetaData from './layout/MetaData';\r\nimport Product from './product/Product';\r\nimport Loader from './layout/Loader';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useAlert } from 'react-alert';\r\nimport { getProducts } from '../actions/productActions';\r\nimport FeaturedProduct from './product/FeaturedProduct';\r\n\r\nconst { createSliderWithTooltip } = Slider;\r\nconst Range = createSliderWithTooltip(Slider.Range);\r\n\r\nconst Home = ({ match }) => {\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [price, setPrice] = useState([1, 1000]);\r\n  const [category, setCategory] = useState('');\r\n  const [rating, setRating] = useState(0);\r\n\r\n  const categories = [\r\n    'Electronics',\r\n    'Clothes',\r\n    'Shoes',\r\n    'Beauty/Health',\r\n    'Medicine',\r\n    'Food',\r\n    'Sports',\r\n    'Books',\r\n    'Outdoor',\r\n    'Accessories',\r\n    'Home',\r\n    'Others',\r\n  ];\r\n\r\n  const alert = useAlert();\r\n  const dispatch = useDispatch();\r\n\r\n  const {\r\n    loading,\r\n    products,\r\n    error,\r\n    productsCount,\r\n    resPerPage,\r\n    filteredProductsCount,\r\n  } = useSelector((state) => state.products);\r\n\r\n  const keyword = match.params.keyword;\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      return alert.error(error);\r\n    }\r\n\r\n    dispatch(getProducts(keyword, currentPage, price, category, rating));\r\n  }, [dispatch, alert, error, keyword, currentPage, price, category, rating]);\r\n\r\n  function setCurrentPageNo(pageNumber) {\r\n    setCurrentPage(pageNumber);\r\n  }\r\n\r\n  let count = productsCount;\r\n  if (keyword) {\r\n    count = filteredProductsCount;\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <Fragment>\r\n          <MetaData title={'Shopee - Buy Best Products Online'} />\r\n\r\n          {!keyword && <FeaturedProduct />}\r\n\r\n          <h1 id=\"products_heading\">Latest Products</h1>\r\n\r\n          <section id=\"products\" className=\"container mt-5\">\r\n            <div className=\"row\">\r\n              {keyword ? (\r\n                <Fragment>\r\n                  <div className=\" col-sm-12  col-md-3  mt-5 mb-5\">\r\n                    <div className=\"px-5\">\r\n                      <Range\r\n                        marks={{\r\n                          1: `$1`,\r\n                          1000: `$1000`,\r\n                        }}\r\n                        min={1}\r\n                        max={1000}\r\n                        defaultValue={[1, 1000]}\r\n                        tipFormatter={(value) => `$${value}`}\r\n                        tipProps={{\r\n                          placement: 'top',\r\n                          visible: true,\r\n                        }}\r\n                        value={price}\r\n                        onChange={(price) => setPrice(price)}\r\n                      />\r\n\r\n                      <hr className=\"my-5\" />\r\n\r\n                      <div className=\"mt-5\">\r\n                        <h4 className=\"mb-3\">Categories</h4>\r\n\r\n                        <ul className=\"pl-0\">\r\n                          {categories.map((category) => (\r\n                            <li\r\n                              style={{\r\n                                cursor: 'pointer',\r\n                                listStyleType: 'none',\r\n                              }}\r\n                              key={category}\r\n                              onClick={() => setCategory(category)}\r\n                            >\r\n                              {category}\r\n                            </li>\r\n                          ))}\r\n                        </ul>\r\n                      </div>\r\n\r\n                      <hr className=\"my-3\" />\r\n\r\n                      <div className=\"mt-5\">\r\n                        <h4 className=\"mb-3\">Ratings</h4>\r\n\r\n                        <ul className=\"pl-0\">\r\n                          {[5, 4, 3, 2, 1].map((star) => (\r\n                            <li\r\n                              style={{\r\n                                cursor: 'pointer',\r\n                                listStyleType: 'none',\r\n                              }}\r\n                              key={star}\r\n                              onClick={() => setRating(star)}\r\n                            >\r\n                              <div className=\"rating-outer\">\r\n                                <div\r\n                                  className=\"rating-inner\"\r\n                                  style={{\r\n                                    width: `${star * 20}%`,\r\n                                  }}\r\n                                ></div>\r\n                              </div>\r\n                            </li>\r\n                          ))}\r\n                        </ul>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-sm-12 col-md-9\">\r\n                    <div className=\"row\">\r\n                      {products.map((product) => (\r\n                        <Product key={product._id} product={product} col={4} />\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </Fragment>\r\n              ) : (\r\n                products.map((product) => (\r\n                  <Product key={product._id} product={product} col={3} />\r\n                ))\r\n              )}\r\n            </div>\r\n          </section>\r\n\r\n          {resPerPage <= count && (\r\n            <div className=\"d-flex justify-content-center mt-5\">\r\n              <Pagination\r\n                activePage={currentPage}\r\n                itemsCountPerPage={resPerPage}\r\n                totalItemsCount={productsCount}\r\n                onChange={setCurrentPageNo}\r\n                nextPageText={'Next'}\r\n                prevPageText={'Prev'}\r\n                firstPageText={'First'}\r\n                lastPageText={'Last'}\r\n                itemClass=\"page-item\"\r\n                linkClass=\"page-link\"\r\n              />\r\n            </div>\r\n          )}\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react'\r\n\r\nconst ListReviews = ({ reviews }) => {\r\n    return (\r\n        <div class=\"reviews w-75\">\r\n            <h3>Other's Reviews:</h3>\r\n            <hr />\r\n            {reviews && reviews.map(review => (\r\n                <div key={review._id} class=\"review-card my-3\">\r\n                    <div class=\"rating-outer\">\r\n                        <div class=\"rating-inner\" style={{ width: `${(review.rating / 5) * 100}%` }}></div>\r\n                    </div>\r\n                    <p class=\"review_user\">by {review.name}</p>\r\n                    <p class=\"review_comment\">{review.comment}</p>\r\n\r\n                    <hr />\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListReviews\r\n","export const ADD_TO_CART = 'ADD_TO_CART'\r\nexport const REMOVE_ITEM_CART = 'REMOVE_ITEM_CART'\r\nexport const SAVE_SHIPPING_INFO = 'SAVE_SHIPPING_INFO'","import axios from 'axios';\r\nimport {\r\n  ADD_TO_CART,\r\n  REMOVE_ITEM_CART,\r\n  SAVE_SHIPPING_INFO,\r\n} from '../constants/cartConstants';\r\n\r\nconst baseUrl = ''\r\n\r\nexport const addItemToCart = (id, quantity) => async (dispatch, getState) => {\r\n  const { data } = await axios.get(baseUrl + `/api/v1/product/${id}`);\r\n\r\n  dispatch({\r\n    type: ADD_TO_CART,\r\n    payload: {\r\n      product: data.product._id,\r\n      name: data.product.name,\r\n      price: data.product.price,\r\n      image: data.product.images[0].url,\r\n      stock: data.product.stock,\r\n      quantity,\r\n    },\r\n  });\r\n\r\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const removeItemFromCart = (id) => async (dispatch, getState) => {\r\n  dispatch({\r\n    type: REMOVE_ITEM_CART,\r\n    payload: id,\r\n  });\r\n\r\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const saveShippingInfo = (data) => async (dispatch) => {\r\n  dispatch({\r\n    type: SAVE_SHIPPING_INFO,\r\n    payload: data,\r\n  });\r\n\r\n  localStorage.setItem('shippingInfo', JSON.stringify(data));\r\n};\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\nimport { Carousel, Image } from 'react-bootstrap'\r\n\r\nimport Loader from '../layout/Loader'\r\nimport MetaData from '../layout/MetaData'\r\nimport ListReviews from '../review/ListReviews'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getProductDetails, newReview, clearErrors } from '../../actions/productActions'\r\nimport { addItemToCart } from '../../actions/cartActions'\r\nimport { NEW_REVIEW_RESET } from '../../constants/productConstants'\r\n\r\nconst ProductDetails = ({ match }) => {\r\n\r\n    const [quantity, setQuantity] = useState(1)\r\n    const [rating, setRating] = useState(0);\r\n    const [comment, setComment] = useState('');\r\n\r\n    const dispatch = useDispatch();\r\n    const alert = useAlert();\r\n\r\n    const { loading, error, product } = useSelector(state => state.productDetails)\r\n    const { user } = useSelector(state => state.auth)\r\n    const { error: reviewError, success } = useSelector(state => state.newReview)\r\n\r\n    useEffect(() => {\r\n        dispatch(getProductDetails(match.params.id))\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n        if (reviewError) {\r\n            alert.error(reviewError);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n        if (success) {\r\n            alert.success('Reivew posted successfully')\r\n            dispatch({ type: NEW_REVIEW_RESET })\r\n        }\r\n\r\n    }, [dispatch, alert, error, reviewError, match.params.id, success])\r\n\r\n    const addToCart = () => {\r\n        dispatch(addItemToCart(match.params.id, quantity));\r\n        alert.success('Item Added to Cart')\r\n    }\r\n\r\n    const increaseQty = () => {\r\n        const count = document.querySelector('.count')\r\n\r\n        if (count.valueAsNumber >= product.stock) return;\r\n\r\n        const qty = count.valueAsNumber + 1;\r\n        setQuantity(qty)\r\n    }\r\n\r\n    const decreaseQty = () => {\r\n\r\n        const count = document.querySelector('.count')\r\n\r\n        if (count.valueAsNumber <= 1) return;\r\n\r\n        const qty = count.valueAsNumber - 1;\r\n        setQuantity(qty)\r\n\r\n    }\r\n\r\n    function setUserRatings() {\r\n        const stars = document.querySelectorAll('.star');\r\n\r\n        stars.forEach((star, index) => {\r\n            star.starValue = index + 1;\r\n\r\n            ['click', 'mouseover', 'mouseout'].forEach(function (e) {\r\n                star.addEventListener(e, showRatings);\r\n            })\r\n        })\r\n\r\n        function showRatings(e) {\r\n            stars.forEach((star, index) => {\r\n                if (e.type === 'click') {\r\n                    if (index < this.starValue) {\r\n                        star.classList.add('orange');\r\n\r\n                        setRating(this.starValue)\r\n                    } else {\r\n                        star.classList.remove('orange')\r\n                    }\r\n                }\r\n\r\n                if (e.type === 'mouseover') {\r\n                    if (index < this.starValue) {\r\n                        star.classList.add('yellow');\r\n                    } else {\r\n                        star.classList.remove('yellow')\r\n                    }\r\n                }\r\n\r\n                if (e.type === 'mouseout') {\r\n                    star.classList.remove('yellow')\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    const reviewHandler = () => {\r\n        const formData = new FormData();\r\n\r\n        formData.set('rating', rating);\r\n        formData.set('comment', comment);\r\n        formData.set('productId', match.params.id);\r\n\r\n        dispatch(newReview(formData));\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            {loading ? <Loader /> : (\r\n                <Fragment>\r\n                    <MetaData title={product.name} />\r\n                    <div className=\"row d-flex justify-content-around\">\r\n                        <div className=\"col-12 col-lg-5 img-fluid\" id=\"product_image\">\r\n                            <Carousel pause='hover'>\r\n                                {product.images && product.images.map(image => (\r\n                                    <Carousel.Item key={image.public_id}>\r\n                                        <Image fluid style={{height: '450px'}} className=\"d-block w-100 rounded border\" src={image.url} alt={product.title} />\r\n                                    </Carousel.Item>\r\n                                ))}\r\n                            </Carousel>\r\n                        </div>\r\n\r\n                        <div className=\"col-12 col-lg-5 mt-5\">\r\n                            <h3>{product.name}</h3>\r\n                            <p id=\"product_id\">Product # {product._id}</p>\r\n\r\n                            <hr />\r\n\r\n                            <div className=\"rating-outer\">\r\n                                <div className=\"rating-inner\" style={{ width: `${(product.ratings / 5) * 100}%` }}></div>\r\n                            </div>\r\n                            <span id=\"no_of_reviews\">({product.numOfReviews} Reviews)</span>\r\n\r\n                            <hr />\r\n\r\n                            <p id=\"product_price\">${product.price}</p>\r\n                            <div className=\"stockCounter d-inline\">\r\n                                <span className=\"btn btn-danger minus\" onClick={decreaseQty}>-</span>\r\n\r\n                                <input type=\"number\" className=\"form-control count d-inline\" value={quantity} readOnly />\r\n\r\n                                <span className=\"btn btn-primary plus\" onClick={increaseQty}>+</span>\r\n                            </div>\r\n                            <button type=\"button\" id=\"cart_btn\" className=\"btn btn-primary d-inline ml-4\" disabled={product.stock === 0} onClick={addToCart}>Add to Cart</button>\r\n\r\n                            <hr />\r\n\r\n                            <p>Status: <span id=\"stock_status\" className={product.stock > 0 ? 'greenColor' : 'redColor'} >{product.stock > 0 ? 'In Stock' : 'Out of Stock'}</span></p>\r\n\r\n                            <hr />\r\n\r\n                            <h4 className=\"mt-2\">Description:</h4>\r\n                            <p>{product.description}</p>\r\n                            <hr />\r\n                            <p id=\"product_seller mb-3\">Sold by: <strong>{product.seller}</strong></p>\r\n\r\n                            {user ? <button id=\"review_btn\" type=\"button\" className=\"btn btn-primary mt-4\" data-toggle=\"modal\" data-target=\"#ratingModal\" onClick={setUserRatings}>\r\n                                Submit Your Review\r\n                            </button>\r\n                                :\r\n                                <div className=\"alert alert-danger mt-5\" type='alert'>Login to post your review.</div>\r\n                            }\r\n\r\n\r\n                            <div className=\"row mt-2 mb-5\">\r\n                                <div className=\"rating w-50\">\r\n\r\n                                    <div className=\"modal fade\" id=\"ratingModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"ratingModalLabel\" aria-hidden=\"true\">\r\n                                        <div className=\"modal-dialog\" role=\"document\">\r\n                                            <div className=\"modal-content\">\r\n                                                <div className=\"modal-header\">\r\n                                                    <h5 className=\"modal-title\" id=\"ratingModalLabel\">Submit Review</h5>\r\n                                                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                                        <span aria-hidden=\"true\">&times;</span>\r\n                                                    </button>\r\n                                                </div>\r\n                                                <div className=\"modal-body\">\r\n\r\n                                                    <ul className=\"stars\" >\r\n                                                        <li className=\"star\"><i className=\"fa fa-star\"></i></li>\r\n                                                        <li className=\"star\"><i className=\"fa fa-star\"></i></li>\r\n                                                        <li className=\"star\"><i className=\"fa fa-star\"></i></li>\r\n                                                        <li className=\"star\"><i className=\"fa fa-star\"></i></li>\r\n                                                        <li className=\"star\"><i className=\"fa fa-star\"></i></li>\r\n                                                    </ul>\r\n\r\n                                                    <textarea\r\n                                                        name=\"review\"\r\n                                                        id=\"review\" className=\"form-control mt-3\"\r\n                                                        value={comment}\r\n                                                        onChange={(e) => setComment(e.target.value)}\r\n                                                    >\r\n\r\n                                                    </textarea>\r\n\r\n                                                    <button className=\"btn my-3 float-right review-btn px-4 text-white\" onClick={reviewHandler} data-dismiss=\"modal\" aria-label=\"Close\">Submit</button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {product.reviews && product.reviews.length > 0 && (\r\n                        <ListReviews reviews={product.reviews} />\r\n                    )}\r\n\r\n                </Fragment>\r\n            )}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ProductDetails\r\n","import React, { Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport MetaData from '../layout/MetaData';\r\nimport { Container, Row } from 'react-bootstrap';\r\nimport { useAlert } from 'react-alert';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addItemToCart, removeItemFromCart } from '../../actions/cartActions';\r\n\r\nconst Cart = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { cartItems } = useSelector((state) => state.cart);\r\n\r\n  const removeCartItemHandler = (id) => {\r\n    dispatch(removeItemFromCart(id));\r\n  };\r\n\r\n  const increaseQty = (id, quantity, stock) => {\r\n    const newQty = quantity + 1;\r\n\r\n    if (newQty > stock) return;\r\n\r\n    dispatch(addItemToCart(id, newQty));\r\n  };\r\n\r\n  const decreaseQty = (id, quantity) => {\r\n    const newQty = quantity - 1;\r\n\r\n    if (newQty <= 0) return;\r\n\r\n    dispatch(addItemToCart(id, newQty));\r\n  };\r\n\r\n  const checkoutHandler = () => {\r\n    history.push('/login?redirect=shipping');\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title={'Your Cart'} />\r\n      {cartItems.length === 0 ? (\r\n        <h2 className=\"mt-5\">Your Cart is Empty</h2>\r\n      ) : (\r\n        <Fragment>\r\n          <h2 className=\"mt-5\">\r\n            Your Cart: <b>{cartItems.length} items</b>\r\n          </h2>\r\n\r\n          <div className=\"row d-flex justify-content-between\">\r\n            <div className=\"col-12 col-lg-8\">\r\n              {cartItems.map((item) => (\r\n                <Fragment key={item.product}>\r\n                  <hr />\r\n\r\n                  <div className=\"cart-item\" key={item.product}>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-4 col-lg-3\">\r\n                        <img\r\n                          src={item.image}\r\n                          alt=\"Laptop\"\r\n                          height=\"70\"\r\n                          width=\"95\"\r\n                        />\r\n                      </div>\r\n\r\n                      <div className=\"col-5 col-lg-3\">\r\n                        <Link to={`/product/${item.product}`}>\r\n                          {item.name}\r\n                        </Link>\r\n                      </div>\r\n\r\n                      <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\r\n                        <p id=\"card_item_price\">${item.price}</p>\r\n                      </div>\r\n\r\n                      <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\r\n                        <div className=\"stockCounter d-inline d-flex flex-1\">\r\n                          <span\r\n                            className=\"btn btn-danger minus\"\r\n                            onClick={() =>\r\n                              decreaseQty(item.product, item.quantity)\r\n                            }\r\n                          >\r\n                            -\r\n                          </span>\r\n\r\n                          <input\r\n                            type=\"number\"\r\n                            className=\"form-control count d-inline\"\r\n                            value={item.quantity}\r\n                            readOnly\r\n                          />\r\n\r\n                          <span\r\n                            className=\"btn btn-primary plus \"\r\n                            onClick={() =>\r\n                              increaseQty(\r\n                                item.product,\r\n                                item.quantity,\r\n                                item.stock\r\n                              )\r\n                            }\r\n                          >\r\n                            +\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-4 col-lg-1 mt-4 mt-lg-0\">\r\n                        <i\r\n                          id=\"delete_cart_item\"\r\n                          className=\"fa fa-trash btn btn-danger\"\r\n                          onClick={() => removeCartItemHandler(item.product)}\r\n                        ></i>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <hr />\r\n                </Fragment>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"col-12 col-lg-3 my-4\">\r\n              <div id=\"order_summary\">\r\n                <h4>Order Summary</h4>\r\n                <hr />\r\n                <p>\r\n                  Subtotal:{' '}\r\n                  <span className=\"order-summary-values\">\r\n                    {cartItems.reduce(\r\n                      (acc, item) => acc + Number(item.quantity),\r\n                      0\r\n                    )}{' '}\r\n                    (Units)\r\n                  </span>\r\n                </p>\r\n                <p>\r\n                  Est. total:{' '}\r\n                  <span className=\"order-summary-values\">\r\n                    $\r\n                    {cartItems\r\n                      .reduce(\r\n                        (acc, item) => acc + item.quantity * item.price,\r\n                        0\r\n                      )\r\n                      .toFixed(2)}\r\n                  </span>\r\n                </p>\r\n\r\n                <hr />\r\n                <button\r\n                  id=\"checkout_btn\"\r\n                  className=\"btn btn-primary btn-block\"\r\n                  onClick={checkoutHandler}\r\n                >\r\n                  Check out\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst CheckoutSteps = ({ shipping, confirmOrder, payment }) => {\r\n  return (\r\n    <div className='d-flex justify-content-center'>\r\n      <div className=\"checkout-progress  mt-5 container \">\r\n        {shipping ? (\r\n          <Link to=\"shipping\" className=\"\">\r\n            <div className=\"triangle2-active my-3\"></div>\r\n            <div className=\"step active-step my-3\">Shipping</div>\r\n            <div className=\"triangle-active my-3\"></div>\r\n          </Link>\r\n        ) : (\r\n          <Link to=\"#!\" disabled>\r\n            <div className=\"triangle2-incomplete my-3\"></div>\r\n            <div className=\"step incomplete my-3\">Shipping</div>\r\n            <div className=\"triangle-incomplete my-3\"></div>\r\n          </Link>\r\n        )}\r\n\r\n        {confirmOrder ? (\r\n          <Link to=\"/order/confirm\" className=\"\">\r\n            <div className=\"triangle2-active my-3\"></div>\r\n            <div className=\"step active-step my-3\">Confirm Order</div>\r\n            <div className=\"triangle-active my-3\"></div>\r\n          </Link>\r\n        ) : (\r\n          <Link to=\"#!\" disabled>\r\n            <div className=\"triangle2-incomplete my-3\"></div>\r\n            <div className=\"step incomplete my-3\">Confirm Order</div>\r\n            <div className=\"triangle-incomplete my-3\"></div>\r\n          </Link>\r\n        )}\r\n\r\n        {payment ? (\r\n          <Link to=\"/payment\" className=\"\">\r\n            <div className=\"triangle2-active my-3\"></div>\r\n            <div className=\"step active-step my-3\">Payment</div>\r\n            <div className=\"triangle-active my-3\"></div>\r\n          </Link>\r\n        ) : (\r\n          <Link to=\"#!\" disabled>\r\n            <div className=\"triangle2-incomplete my-3\"></div>\r\n            <div className=\"step incomplete my-3\">Payment</div>\r\n            <div className=\"triangle-incomplete my-3\"></div>\r\n          </Link>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckoutSteps;\r\n","import React, { Fragment, useState } from 'react'\r\nimport { countries } from 'countries-list'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport CheckoutSteps from './CheckoutSteps'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { saveShippingInfo } from '../../actions/cartActions'\r\n\r\nconst Shipping = ({ history }) => {\r\n\r\n    const countriesList = Object.values(countries)\r\n\r\n    const { shippingInfo } = useSelector(state => state.cart)\r\n\r\n    const [address, setAddress] = useState(shippingInfo.address)\r\n    const [city, setCity] = useState(shippingInfo.city)\r\n    const [postalCode, setPostalCode] = useState(shippingInfo.postalCode)\r\n    const [phoneNo, setPhoneNo] = useState(shippingInfo.phoneNo)\r\n    const [country, setCountry] = useState(shippingInfo.country)\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n\r\n        dispatch(saveShippingInfo({ address, city, phoneNo, postalCode, country }))\r\n        history.push('/confirm')\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <MetaData title={'Shipping Info'} />\r\n\r\n            <CheckoutSteps shipping />\r\n\r\n            <div className=\"row wrapper \">\r\n                <div className=\"col-10 col-lg-5\">\r\n                    <form className=\"shadow-lg\" onSubmit={submitHandler}>\r\n                        <h1 className=\"mb-4\">Shipping Info</h1>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"address_field\">Address</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"address_field\"\r\n                                className=\"form-control\"\r\n                                value={address}\r\n                                onChange={(e) => setAddress(e.target.value)}\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"city_field\">City</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"city_field\"\r\n                                className=\"form-control\"\r\n                                value={city}\r\n                                onChange={(e) => setCity(e.target.value)}\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"phone_field\">Phone No</label>\r\n                            <input\r\n                                type=\"phone\"\r\n                                id=\"phone_field\"\r\n                                className=\"form-control\"\r\n                                value={phoneNo}\r\n                                onChange={(e) => setPhoneNo(e.target.value)}\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"postal_code_field\">Postal Code</label>\r\n                            <input\r\n                                type=\"number\"\r\n                                id=\"postal_code_field\"\r\n                                className=\"form-control\"\r\n                                value={postalCode}\r\n                                onChange={(e) => setPostalCode(e.target.value)}\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"country_field\">Country</label>\r\n                            <select\r\n                                id=\"country_field\"\r\n                                className=\"form-control\"\r\n                                value={country}\r\n                                onChange={(e) => setCountry(e.target.value)}\r\n                                required\r\n                            >\r\n\r\n                                {countriesList.map(country => (\r\n                                    <option key={country.name} value={country.name}>\r\n                                        {country.name}\r\n                                    </option>\r\n                                ))}\r\n\r\n                            </select>\r\n                        </div>\r\n\r\n                        <button\r\n                            id=\"shipping_btn\"\r\n                            type=\"submit\"\r\n                            className=\"btn btn-block py-3\"\r\n                        >\r\n                            CONTINUE\r\n                            </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Shipping\r\n","import React, { Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport MetaData from '../layout/MetaData';\r\nimport CheckoutSteps from './CheckoutSteps';\r\n\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst ConfirmOrder = ({ history }) => {\r\n  const { cartItems, shippingInfo } = useSelector((state) => state.cart);\r\n  const { user } = useSelector((state) => state.auth);\r\n\r\n  // Calculate Order Prices\r\n  const itemsPrice = cartItems.reduce(\r\n    (acc, item) => acc + item.price * item.quantity,\r\n    0\r\n  );\r\n  const shippingPrice = itemsPrice > 200 ? 0 : 25;\r\n  const taxPrice = Number((0.05 * itemsPrice).toFixed(2));\r\n  const totalPrice = (itemsPrice + shippingPrice + taxPrice).toFixed(2);\r\n\r\n  const processToPayment = () => {\r\n    const data = {\r\n      itemsPrice: itemsPrice.toFixed(2),\r\n      shippingPrice,\r\n      taxPrice,\r\n      totalPrice,\r\n    };\r\n\r\n    sessionStorage.setItem('orderInfo', JSON.stringify(data));\r\n    history.push('/payment');\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title={'Confirm Order'} />\r\n\r\n      <CheckoutSteps shipping confirmOrder />\r\n\r\n      <div className=\"row d-flex justify-content-between\">\r\n        <div className=\"col-12 col-lg-8 mt-5 order-confirm\">\r\n          <h4 className=\"mb-3\">Shipping Info</h4>\r\n          <p>\r\n            <b>Name:</b> {user && user.name}\r\n          </p>\r\n          <p>\r\n            <b>Phone:</b> {shippingInfo.phoneNo}\r\n          </p>\r\n          <p className=\"mb-4\">\r\n            <b>Address:</b>{' '}\r\n            {`${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.postalCode}, ${shippingInfo.country}`}\r\n          </p>\r\n\r\n          <hr />\r\n          <h4 className=\"mt-4\">Your Cart Items:</h4>\r\n\r\n          {cartItems.map((item) => (\r\n            <Fragment key={item.product}>\r\n              <hr />\r\n              <div className=\"cart-item my-1\" key={item.product}>\r\n                <div className=\"row\">\r\n                  <div className=\"col-4 col-lg-2\">\r\n                    <img src={item.image} alt=\"Laptop\" height=\"45\" width=\"65\" />\r\n                  </div>\r\n\r\n                  <div className=\"col-5 col-lg-6\">\r\n                    <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                  </div>\r\n\r\n                  <div className=\"col-lg-4 col-sm-12 mt-4 mt-lg-0\">\r\n                    <p>\r\n                      {item.quantity} x ${item.price} ={' '}\r\n                      <b>${(item.quantity * item.price).toFixed(2)}</b>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <hr />\r\n            </Fragment>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"col-12 col-lg-3 my-4\">\r\n          <div id=\"order_summary\">\r\n            <h4>Order Summary</h4>\r\n            <hr />\r\n            <p>\r\n              Subtotal:{' '}\r\n              <span className=\"order-summary-values\">${itemsPrice}</span>\r\n            </p>\r\n            <p>\r\n              Shipping:{' '}\r\n              <span className=\"order-summary-values\">${shippingPrice}</span>\r\n            </p>\r\n            <p>\r\n              Tax: <span className=\"order-summary-values\">${taxPrice}</span>\r\n            </p>\r\n\r\n            <hr />\r\n\r\n            <p>\r\n              Total: <span className=\"order-summary-values\">${totalPrice}</span>\r\n            </p>\r\n\r\n            <hr />\r\n            <button\r\n              id=\"checkout_btn\"\r\n              className=\"btn btn-primary btn-block\"\r\n              onClick={processToPayment}\r\n            >\r\n              Proceed to Payment\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ConfirmOrder;\r\n","export const CREATE_ORDER_REQUEST = 'CREATE_ORDER_REQUEST'\r\nexport const CREATE_ORDER_SUCCESS = 'CREATE_ORDER_SUCCESS'\r\nexport const CREATE_ORDER_FAIL = 'CREATE_ORDER_FAIL'\r\n\r\nexport const MY_ORDERS_REQUEST = 'MY_ORDERS_REQUEST'\r\nexport const MY_ORDERS_SUCCESS = 'MY_ORDERS_SUCCESS'\r\nexport const MY_ORDERS_FAIL = 'MY_ORDERS_FAIL'\r\n\r\nexport const ALL_ORDERS_REQUEST = 'ALL_ORDERS_REQUEST'\r\nexport const ALL_ORDERS_SUCCESS = 'ALL_ORDERS_SUCCESS'\r\nexport const ALL_ORDERS_FAIL = 'ALL_ORDERS_FAIL'\r\n\r\nexport const UPDATE_ORDER_REQUEST = 'UPDATE_ORDER_REQUEST'\r\nexport const UPDATE_ORDER_SUCCESS = 'UPDATE_ORDER_SUCCESS'\r\nexport const UPDATE_ORDER_RESET = 'UPDATE_ORDER_RESET'\r\nexport const UPDATE_ORDER_FAIL = 'UPDATE_ORDER_FAIL'\r\n\r\nexport const DELETE_ORDER_REQUEST = 'DELETE_ORDER_REQUEST'\r\nexport const DELETE_ORDER_SUCCESS = 'DELETE_ORDER_SUCCESS'\r\nexport const DELETE_ORDER_RESET = 'DELETE_ORDER_RESET'\r\nexport const DELETE_ORDER_FAIL = 'DELETE_ORDER_FAIL'\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST'\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS'\r\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL'\r\n\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS'","import axios from 'axios';\r\n\r\nimport {\r\n  CREATE_ORDER_REQUEST,\r\n  CREATE_ORDER_SUCCESS,\r\n  CREATE_ORDER_FAIL,\r\n  MY_ORDERS_REQUEST,\r\n  MY_ORDERS_SUCCESS,\r\n  MY_ORDERS_FAIL,\r\n  ALL_ORDERS_REQUEST,\r\n  ALL_ORDERS_SUCCESS,\r\n  ALL_ORDERS_FAIL,\r\n  UPDATE_ORDER_SUCCESS,\r\n  UPDATE_ORDER_REQUEST,\r\n  UPDATE_ORDER_FAIL,\r\n  DELETE_ORDER_REQUEST,\r\n  DELETE_ORDER_SUCCESS,\r\n  DELETE_ORDER_FAIL,\r\n  ORDER_DETAILS_REQUEST,\r\n  ORDER_DETAILS_SUCCESS,\r\n  ORDER_DETAILS_FAIL,\r\n  CLEAR_ERRORS,\r\n} from '../constants/orderConstants';\r\n\r\nconst baseUrl = '';\r\n\r\nexport const createOrder = (order) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({ type: CREATE_ORDER_REQUEST });\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.post(\r\n      baseUrl + '/api/v1/order/new',\r\n      order,\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: CREATE_ORDER_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: CREATE_ORDER_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Get curretly logged in user orders\r\nexport const myOrders = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: MY_ORDERS_REQUEST });\r\n\r\n    const { data } = await axios.get(baseUrl + '/api/v1/orders/me');\r\n\r\n    dispatch({\r\n      type: MY_ORDERS_SUCCESS,\r\n      payload: data.orders,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: MY_ORDERS_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Get order details\r\nexport const getOrderDetails = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ORDER_DETAILS_REQUEST });\r\n\r\n    const { data } = await axios.get(baseUrl + `/api/v1/order/${id}`);\r\n\r\n    dispatch({\r\n      type: ORDER_DETAILS_SUCCESS,\r\n      payload: data.order,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ORDER_DETAILS_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Get all orders - ADMIN\r\nexport const allOrders = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ALL_ORDERS_REQUEST });\r\n\r\n    const { data } = await axios.get(baseUrl + `/api/v1/admin/orders`);\r\n\r\n    dispatch({\r\n      type: ALL_ORDERS_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: ALL_ORDERS_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\n// update order\r\nexport const updateOrder = (id, orderData) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: UPDATE_ORDER_REQUEST });\r\n\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.put(\r\n      baseUrl + `/api/v1/admin/order/${id}`,\r\n      orderData,\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: UPDATE_ORDER_SUCCESS,\r\n      payload: data.success,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: UPDATE_ORDER_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Delete order\r\nexport const deleteOrder = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: DELETE_ORDER_REQUEST });\r\n\r\n    const { data } = await axios.delete(baseUrl + `/api/v1/admin/order/${id}`);\r\n\r\n    dispatch({\r\n      type: DELETE_ORDER_SUCCESS,\r\n      payload: data.success,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: DELETE_ORDER_FAIL,\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\n// Clear Errors\r\nexport const clearErrors = () => async (dispatch) => {\r\n  dispatch({\r\n    type: CLEAR_ERRORS,\r\n  });\r\n};\r\n","import React, { Fragment, useEffect } from 'react';\r\nimport { Button, Card, Col, Container, Nav, Row, Tab } from 'react-bootstrap';\r\n\r\nimport MetaData from '../layout/MetaData';\r\nimport CheckoutSteps from './CheckoutSteps';\r\n\r\nimport { useAlert } from 'react-alert';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { createOrder, clearErrors } from '../../actions/orderActions';\r\n\r\nimport {\r\n  useStripe,\r\n  useElements,\r\n  CardNumberElement,\r\n  CardExpiryElement,\r\n  CardCvcElement,\r\n} from '@stripe/react-stripe-js';\r\n\r\nimport axios from 'axios';\r\n\r\nconst options = {\r\n  style: {\r\n    base: {\r\n      fontSize: '16px',\r\n    },\r\n    invalid: {\r\n      color: '#9e2146',\r\n    },\r\n  },\r\n};\r\n\r\nconst Payment = ({ history }) => {\r\n  const alert = useAlert();\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const dispatch = useDispatch();\r\n\r\n  const { user } = useSelector((state) => state.auth);\r\n  const { cartItems, shippingInfo } = useSelector((state) => state.cart);\r\n  const { error } = useSelector((state) => state.newOrder);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      alert.error(error);\r\n      dispatch(clearErrors());\r\n    }\r\n  }, [dispatch, alert, error]);\r\n\r\n  const order = {\r\n    orderItems: cartItems,\r\n    shippingInfo,\r\n  };\r\n\r\n  const orderInfo = JSON.parse(sessionStorage.getItem('orderInfo'));\r\n  if (orderInfo) {\r\n    order.itemsPrice = orderInfo.itemsPrice;\r\n    order.shippingPrice = orderInfo.shippingPrice;\r\n    order.taxPrice = orderInfo.taxPrice;\r\n    order.totalPrice = orderInfo.totalPrice;\r\n  }\r\n\r\n  const paymentData = {\r\n    amount: Math.round(orderInfo.totalPrice * 100),\r\n  };\r\n\r\n  const cashOnDeliveryHandler = () => {\r\n    const orderData = {\r\n      orderItems: cartItems,\r\n      shippingInfo,\r\n      itemsPrice: orderInfo.itemsPrice,\r\n      taxPrice: orderInfo.taxPrice,\r\n      shippingPrice: orderInfo.shippingPrice,\r\n      totalPrice: orderInfo.totalPrice,\r\n      paymentInfo: {\r\n        paymentMethod: 'Cash on Delivery',\r\n        id: `${Math.round(Math.random() * 1000000000000) + Date.now()}`,\r\n        status: 'pending',\r\n      },\r\n      user: user._id,\r\n    };\r\n\r\n    dispatch(createOrder(orderData));\r\n    localStorage.removeItem('cartItems');\r\n    history.push('/success');\r\n    window.location.reload();\r\n  };\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    document.querySelector('#pay_btn').disabled = true;\r\n\r\n    let res;\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      };\r\n\r\n      res = await axios.post('/api/v1/payment/process', paymentData, config);\r\n\r\n      const clientSecret = res.data.client_secret;\r\n\r\n\r\n      if (!stripe || !elements) {\r\n        return;\r\n      }\r\n\r\n      const result = await stripe.confirmCardPayment(clientSecret, {\r\n        payment_method: {\r\n          card: elements.getElement(CardNumberElement),\r\n          billing_details: {\r\n            name: user.name,\r\n            email: user.email,\r\n          },\r\n        },\r\n      });\r\n\r\n      if (result.error) {\r\n        alert.error(result.error.message);\r\n        document.querySelector('#pay_btn').disabled = false;\r\n      } else {\r\n        // The payment is processed or not\r\n        if (result.paymentIntent.status === 'succeeded') {\r\n          order.paymentInfo = {\r\n            paymentMethod: 'Stripe',\r\n            id: result.paymentIntent.id,\r\n            status: result.paymentIntent.status,\r\n          };\r\n\r\n          dispatch(createOrder(order));\r\n\r\n          localStorage.removeItem('cartItems');\r\n\r\n          history.push('/success');\r\n          window.location.reload();\r\n        } else {\r\n          alert.error('There is some issue while payment processing');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      document.querySelector('#pay_btn').disabled = false;\r\n      alert.error(error.response.data.message || 'Something went wrong');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title={'Payment'} />\r\n\r\n      <CheckoutSteps shipping confirmOrder payment />\r\n\r\n      <Container fluid className=\"my-3\">\r\n        <Tab.Container id=\"left-tabs-example\" defaultActiveKey=\"first\">\r\n          <Row>\r\n            <Col sm={3}>\r\n              <Nav variant=\"pills\" className=\"flex-column\">\r\n                <Nav.Item>\r\n                  <Nav.Link\r\n                    eventKey=\"first\"\r\n                    className=\"uni_col\"\r\n                    style={{ cursor: 'pointer' }}\r\n                  >\r\n                    Pay - CARD\r\n                  </Nav.Link>\r\n                </Nav.Item>\r\n                <Nav.Item>\r\n                  <Nav.Link\r\n                    eventKey=\"second\"\r\n                    className=\"uni_col\"\r\n                    style={{ cursor: 'pointer' }}\r\n                  >\r\n                    CASH ON DELIVERY\r\n                  </Nav.Link>\r\n                </Nav.Item>\r\n              </Nav>\r\n            </Col>\r\n            <Col sm={9}>\r\n              <Tab.Content>\r\n                <Tab.Pane eventKey=\"first\">\r\n                  <Row>\r\n                    <Card className=\"w-100 p-3\">\r\n                      <form onSubmit={submitHandler}>\r\n                        <h1 className=\"mb-4 text-center\">Card Info</h1>\r\n                        <div className=\"form-group\">\r\n                          <label className=\"\" htmlFor=\"card_num_field\">\r\n                            Card Number\r\n                          </label>\r\n                          <CardNumberElement\r\n                            type=\"text\"\r\n                            id=\"card_num_field\"\r\n                            className=\"form-control\"\r\n                            options={options}\r\n                          />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                          <label className=\"\" htmlFor=\"card_exp_field\">\r\n                            Card Expiry\r\n                          </label>\r\n                          <CardExpiryElement\r\n                            type=\"text\"\r\n                            id=\"card_exp_field\"\r\n                            className=\"form-control \"\r\n                            options={options}\r\n                          />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                          <label className=\"\" htmlFor=\"card_cvc_field\">\r\n                            Card CVC\r\n                          </label>\r\n                          <CardCvcElement\r\n                            type=\"text\"\r\n                            id=\"card_cvc_field\"\r\n                            className=\"form-control \"\r\n                            options={options}\r\n                          />\r\n                        </div>\r\n\r\n                        <Button\r\n                          id=\"pay_btn\"\r\n                          type=\"submit\"\r\n                          className=\"btn btn-block py-3 uni_btn\"\r\n                        >\r\n                          <i className=\"fa fa-credit-card mr-2\"></i>\r\n                          Pay {` - ${orderInfo && orderInfo.totalPrice}`}\r\n                        </Button>\r\n                      </form>\r\n                    </Card>\r\n                  </Row>\r\n                </Tab.Pane>\r\n                <Tab.Pane eventKey=\"second\">\r\n                  <Row>\r\n                    <Card className=\"w-100 p-3\">\r\n                      <h3 className=\"text-center\">Cash On Delivery</h3>\r\n                      <Card.Body>\r\n                        <li>Make Sure You Choosed Correct Product</li>\r\n                        <li>Make Sure You Have Provided Exact Location</li>\r\n                        <li>You Have To Pay Cash Or Online On Order Arrival</li>\r\n                        <li>You Will Be Notified After Confirming Order</li>\r\n                      </Card.Body>\r\n                      <Button\r\n                        onClick={cashOnDeliveryHandler}\r\n                        className=\"p-3 uni_btn\"\r\n                      >\r\n                        <i class=\"fa fa-money mr-2\"></i>\r\n                        Confirm Order{` - ${orderInfo && orderInfo.totalPrice}`}\r\n                      </Button>\r\n                    </Card>\r\n                  </Row>\r\n                </Tab.Pane>\r\n              </Tab.Content>\r\n            </Col>\r\n          </Row>\r\n        </Tab.Container>\r\n      </Container>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Payment;\r\n","import React, { Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport MetaData from '../layout/MetaData'\r\n\r\nconst OrderSuccess = () => {\r\n    return (\r\n        <Fragment>\r\n\r\n            <MetaData title={'Order Success'} />\r\n\r\n            <div className=\"row justify-content-center\">\r\n                <div className=\"col-6 mt-5 text-center\">\r\n                    <img className=\"my-5 img-fluid d-block mx-auto\" src=\"/images/order_success.png\" alt=\"Order Success\" width=\"200\" height=\"200\" />\r\n\r\n                    <h2>Your Order has been placed successfully.</h2>\r\n\r\n                    <Link to=\"/orders/me\">Go to Orders</Link>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default OrderSuccess\r\n","import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { MDBDataTable } from 'mdbreact'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { myOrders, clearErrors } from '../../actions/orderActions'\r\n\r\nconst ListOrders = () => {\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { loading, error, orders } = useSelector(state => state.myOrders);\r\n\r\n    useEffect(() => {\r\n        dispatch(myOrders());\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n    }, [dispatch, alert, error])\r\n\r\n    const setOrders = () => {\r\n        const data = {\r\n            columns: [\r\n                {\r\n                    label: 'Order ID',\r\n                    field: 'id',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Num of Items',\r\n                    field: 'numOfItems',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Amount',\r\n                    field: 'amount',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Status',\r\n                    field: 'status',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Actions',\r\n                    field: 'actions',\r\n                    sort: 'asc'\r\n                },\r\n            ],\r\n            rows: []\r\n        }\r\n\r\n        orders.forEach(order => {\r\n            data.rows.push({\r\n                id: order._id,\r\n                numOfItems: order.orderItems.length,\r\n                amount: `$${order.totalPrice}`,\r\n                status: order.orderStatus && String(order.orderStatus).includes('Delivered')\r\n                    ? <p style={{ color: 'green' }}>{order.orderStatus}</p>\r\n                    : <p style={{ color: 'red' }}>{order.orderStatus}</p>,\r\n                actions:\r\n                    <Link to={`/order/${order._id}`} className=\"btn btn-primary\">\r\n                        <i className=\"fa fa-eye\"></i>\r\n                    </Link>\r\n            })\r\n        })\r\n\r\n        return data;\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <MetaData title={'My Orders'} />\r\n\r\n            <h1 className=\"my-5\">My Orders</h1>\r\n\r\n            {loading ? <Loader /> : (\r\n                <MDBDataTable\r\n                    data={setOrders()}\r\n                    className=\"px-3\"\r\n                    bordered\r\n                    striped\r\n                    hover\r\n                    responsiveSm\r\n                />\r\n            )}\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ListOrders\r\n","import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getOrderDetails, clearErrors } from '../../actions/orderActions'\r\n\r\nconst OrderDetails = ({ match }) => {\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { loading, error, order = {} } = useSelector(state => state.orderDetails)\r\n    const { shippingInfo, orderItems, paymentInfo, user, totalPrice, orderStatus } = order\r\n\r\n    useEffect(() => {\r\n        dispatch(getOrderDetails(match.params.id));\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n    }, [dispatch, alert, error, match.params.id])\r\n\r\n    const shippingDetails = shippingInfo && `${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.postalCode}, ${shippingInfo.country}`\r\n\r\n    const isPaid = paymentInfo && paymentInfo.status === 'succeeded' ? true : false\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Order Details'} />\r\n\r\n            {loading ? <Loader /> : (\r\n                <Fragment>\r\n                    <div className=\"row d-flex justify-content-between\">\r\n                        <div className=\"col-12 col-lg-8 mt-5 order-details\">\r\n\r\n                            <h1 className=\"my-5\">Order # {order._id}</h1>\r\n\r\n                            <h4 className=\"mb-4\">Shipping Info</h4>\r\n                            <p><b>Name:</b> {user && user.name}</p>\r\n                            <p><b>Phone:</b> {shippingInfo && shippingInfo.phoneNo}</p>\r\n                            <p className=\"mb-4\"><b>Address:</b>{shippingDetails}</p>\r\n                            <p><b>Amount:</b> ${totalPrice}</p>\r\n\r\n                            <hr />\r\n\r\n                            <h4 className=\"my-4\">Payment</h4>\r\n                            <p className={isPaid ? \"greenColor\" : \"redColor\"}><b>{isPaid ? \"PAID\" : \"NOT PAID\"}</b></p>\r\n\r\n\r\n                            <h4 className=\"my-4\">Order Status:</h4>\r\n                            <p className={order.orderStatus && String(order.orderStatus).includes('Delivered') ? \"greenColor\" : \"redColor\"} ><b>{orderStatus}</b></p>\r\n\r\n\r\n                            <h4 className=\"my-4\">Order Items:</h4>\r\n\r\n                            <hr />\r\n                            <div className=\"cart-item my-1\">\r\n                                {orderItems && orderItems.map(item => (\r\n                                    <div key={item.product} className=\"row my-5\">\r\n                                        <div className=\"col-4 col-lg-2\">\r\n                                            <img src={item.image} alt={item.name} height=\"45\" width=\"65\" />\r\n                                        </div>\r\n\r\n                                        <div className=\"col-5 col-lg-5\">\r\n                                            <Link to={`/products/${item.product}`}>{item.name}</Link>\r\n                                        </div>\r\n\r\n\r\n                                        <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\r\n                                            <p>${item.price}</p>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-8 col-lg-3 mt-4 mt-lg-0\">\r\n                                            <p>{item.quantity} Piece(s)</p>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                            <hr />\r\n                        </div>\r\n                    </div>\r\n                </Fragment>\r\n            )}\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default OrderDetails\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport Loader from '../layout/Loader'\r\nimport MetaData from '../layout/MetaData'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { login, clearErrors } from '../../actions/userActions'\r\n\r\nconst Login = ({ history, location }) => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { isAuthenticated, error, loading } = useSelector(state => state.auth);\r\n\r\n    const redirect = location.search ? location.search.split('=')[1] : '/'\r\n\r\n    useEffect(() => {\r\n\r\n        if (isAuthenticated) {\r\n            history.push(redirect)\r\n        }\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors());\r\n        }\r\n\r\n    }, [dispatch, alert, isAuthenticated, error, history])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        dispatch(login(email, password))\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            {loading ? <Loader /> : (\r\n                <Fragment>\r\n                    <MetaData title={'Login'} />\r\n\r\n                    <div className=\"row wrapper\">\r\n                        <div className=\"col-10 col-lg-5\">\r\n                            <form className=\"shadow-lg\" onSubmit={submitHandler}>\r\n                                <h1 className=\"mb-3\">Login</h1>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"email_field\">Email</label>\r\n                                    <input\r\n                                        type=\"email\"\r\n                                        id=\"email_field\"\r\n                                        className=\"form-control\"\r\n                                        value={email}\r\n                                        onChange={(e) => setEmail(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"password_field\">Password</label>\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        id=\"password_field\"\r\n                                        className=\"form-control\"\r\n                                        value={password}\r\n                                        onChange={(e) => setPassword(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <Link to=\"/password/forgot\" className=\"float-right mb-4\">Forgot Password?</Link>\r\n\r\n                                <button\r\n                                    id=\"login_button\"\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-block py-3\"\r\n                                >\r\n                                    LOGIN\r\n                                </button>\r\n\r\n                                <Link to=\"/register\" className=\"float-right mt-3\">New User?</Link>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </Fragment>\r\n            )}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\n\r\nimport MetaData from '../layout/MetaData'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { register, clearErrors } from '../../actions/userActions'\r\n\r\nconst Register = ({ history }) => {\r\n\r\n    const [user, setUser] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n    })\r\n\r\n    const { name, email, password } = user;\r\n\r\n    const [avatar, setAvatar] = useState('')\r\n    const [avatarPreview, setAvatarPreview] = useState('/images/default_avatar.jpg')\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { isAuthenticated, error, loading } = useSelector(state => state.auth);\r\n\r\n    useEffect(() => {\r\n\r\n        if (isAuthenticated) {\r\n            history.push('/')\r\n        }\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors());\r\n        }\r\n\r\n    }, [dispatch, alert, isAuthenticated, error, history])\r\n\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.set('name', name);\r\n        formData.set('email', email);\r\n        formData.set('password', password);\r\n        formData.set('avatar', avatar);\r\n\r\n       await dispatch(register(formData))\r\n    }\r\n\r\n    const onChange = e => {\r\n        if (e.target.name === 'avatar') {\r\n\r\n            // const reader = new FileReader();\r\n\r\n            // reader.onload = () => {\r\n            //     if (reader.readyState === 2) {\r\n            //         setAvatarPreview(reader.result)\r\n            //         setAvatar(reader.result)\r\n            //     }\r\n            // }\r\n\r\n            // reader.readAsDataURL(e.target.files[0])\r\n\r\n            setAvatarPreview(URL.createObjectURL(e.target.files[0]))\r\n            setAvatar(e.target.files[0])\r\n\r\n\r\n        } else {\r\n            setUser({ ...user, [e.target.name]: e.target.value })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <MetaData title={'Register User'} />\r\n\r\n            <div className=\"row wrapper\">\r\n                <div className=\"col-10 col-lg-5\">\r\n                    <form className=\"shadow-lg\" onSubmit={submitHandler} encType='multipart/form-data'>\r\n                        <h1 className=\"mb-3\">Register</h1>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"email_field\">Name</label>\r\n                            <input\r\n                                type=\"name\"\r\n                                id=\"name_field\"\r\n                                className=\"form-control\"\r\n                                name='name'\r\n                                value={name}\r\n                                onChange={onChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"email_field\">Email</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                id=\"email_field\"\r\n                                className=\"form-control\"\r\n                                name='email'\r\n                                value={email}\r\n                                onChange={onChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"password_field\">Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"password_field\"\r\n                                className=\"form-control\"\r\n                                name='password'\r\n                                value={password}\r\n                                onChange={onChange}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className='form-group'>\r\n                            <label htmlFor='avatar_upload'>Avatar</label>\r\n                            <div className='d-flex align-items-center'>\r\n                                <div>\r\n                                    <figure className='avatar mr-3 item-rtl'>\r\n                                        <img\r\n                                            src={avatarPreview}\r\n                                            className='rounded-circle'\r\n                                            alt='Avatar Preview'\r\n                                        />\r\n                                    </figure>\r\n                                </div>\r\n                                <div className='custom-file'>\r\n                                    <input\r\n                                        type='file'\r\n                                        name='avatar'\r\n                                        className='custom-file-input'\r\n                                        id='customFile'\r\n                                        accept=\"iamges/*\"\r\n                                        onChange={onChange}\r\n                                    />\r\n                                    <label className='custom-file-label' htmlFor='customFile'>\r\n                                        Choose Avatar\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button\r\n                            id=\"register_button\"\r\n                            type=\"submit\"\r\n                            className=\"btn btn-block py-3\"\r\n                            disabled={loading ? true : false}\r\n                        >\r\n                            REGISTER\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import React, { Fragment } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport Loader from '../layout/Loader'\r\nimport MetaData from '../layout/MetaData'\r\n\r\nconst Profile = () => {\r\n\r\n    const { user, loading } = useSelector(state => state.auth)\r\n\r\n    return (\r\n        <Fragment>\r\n            {loading ? <Loader /> : (\r\n                <Fragment>\r\n                    <MetaData title={'Your Profile'} />\r\n\r\n                    <h2 className=\"mt-5 ml-5\">My Profile</h2>\r\n                    <div className=\"row justify-content-around mt-5 user-info\">\r\n                        <div className=\"col-12 col-md-3\">\r\n                            <figure className='avatar avatar-profile'>\r\n                                <img className=\"rounded-circle img-fluid\" src={user.avatar.url} alt={user.name} />\r\n                            </figure>\r\n                            <Link to=\"/me/update\" id=\"edit_profile\" className=\"btn btn-primary btn-block my-5\">\r\n                                Edit Profile\r\n                            </Link>\r\n                        </div>\r\n\r\n                        <div className=\"col-12 col-md-5\">\r\n                            <h4>Full Name</h4>\r\n                            <p>{user.name}</p>\r\n\r\n                            <h4>Email Address</h4>\r\n                            <p>{user.email}</p>\r\n\r\n                            <h4>Joined On</h4>\r\n                            <p>{String(user.createdAt).substring(0, 10)}</p>\r\n\r\n                            {user.role !== 'admin' && (\r\n                                <Link to=\"/orders/me\" className=\"btn btn-danger btn-block mt-5\">\r\n                                    My Orders\r\n                                </Link>\r\n                            )}\r\n\r\n                            <Link to=\"/password/update\" className=\"btn btn-primary btn-block mt-3\">\r\n                                Change Password\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </Fragment>\r\n            )}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\n\r\nimport MetaData from '../layout/MetaData';\r\n\r\nimport { useAlert } from 'react-alert';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  updateProfile,\r\n  loadUser,\r\n  clearErrors,\r\n} from '../../actions/userActions';\r\nimport { UPDATE_PROFILE_RESET } from '../../constants/userConstants';\r\n\r\nconst UpdateProfile = ({ history }) => {\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [avatar, setAvatar] = useState('');\r\n  const [avatarPreview, setAvatarPreview] = useState(\r\n    '/images/default_avatar.jpg'\r\n  );\r\n\r\n  const alert = useAlert();\r\n  const dispatch = useDispatch();\r\n\r\n  const { user } = useSelector((state) => state.auth);\r\n  const { error, isUpdated, loading } = useSelector((state) => state.user);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setName(user.name);\r\n      setEmail(user.email);\r\n      setAvatarPreview(user.avatar.url);\r\n    }\r\n\r\n    if (error) {\r\n      alert.error(error);\r\n      dispatch(clearErrors());\r\n    }\r\n\r\n    if (isUpdated) {\r\n      alert.success('User updated successfully');\r\n      dispatch(loadUser());\r\n\r\n      history.push('/me');\r\n\r\n      dispatch({\r\n        type: UPDATE_PROFILE_RESET,\r\n      });\r\n    }\r\n  }, [dispatch, alert, error, history, isUpdated]);\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.set('name', name);\r\n    formData.set('email', email);\r\n    formData.set('avatar', avatar);\r\n\r\n    await dispatch(updateProfile(formData));\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    setAvatarPreview(URL.createObjectURL(e.target.files[0]));\r\n    setAvatar(e.target.files[0]);\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <MetaData title={'Update Profile'} />\r\n\r\n      <div className=\"row wrapper\">\r\n        <div className=\"col-10 col-lg-5\">\r\n          <form\r\n            className=\"shadow-lg\"\r\n            onSubmit={submitHandler}\r\n            encType=\"multipart/form-data\"\r\n          >\r\n            <h1 className=\"mt-2 mb-5\">Update Profile</h1>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"email_field\">Name</label>\r\n              <input\r\n                type=\"name\"\r\n                id=\"name_field\"\r\n                className=\"form-control\"\r\n                name=\"name\"\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"email_field\">Email</label>\r\n              <input\r\n                type=\"email\"\r\n                id=\"email_field\"\r\n                className=\"form-control\"\r\n                name=\"email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"avatar_upload\">Avatar</label>\r\n              <div className=\"d-flex align-items-center\">\r\n                <div>\r\n                  <figure className=\"avatar mr-3 item-rtl\">\r\n                    <img\r\n                      src={avatarPreview}\r\n                      className=\"rounded-circle\"\r\n                      alt=\"Avatar Preview\"\r\n                    />\r\n                  </figure>\r\n                </div>\r\n                <div className=\"custom-file\">\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"avatar\"\r\n                    className=\"custom-file-input\"\r\n                    id=\"customFile\"\r\n                    accept=\"image/*\"\r\n                    onChange={onChange}\r\n                  />\r\n                  <label className=\"custom-file-label\" htmlFor=\"customFile\">\r\n                    Choose Avatar\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn update-btn btn-block mt-4 mb-3\"\r\n              disabled={loading ? true : false}\r\n            >\r\n              Update\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default UpdateProfile;\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\n\r\nimport MetaData from '../layout/MetaData'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { updatePassword, clearErrors } from '../../actions/userActions'\r\nimport { UPDATE_PASSWORD_RESET } from '../../constants/userConstants'\r\n\r\nconst UpdatePassword = ({ history }) => {\r\n\r\n    const [oldPassword, setOldPassword] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { error, isUpdated, loading } = useSelector(state => state.user)\r\n\r\n    useEffect(() => {\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors());\r\n        }\r\n\r\n        if (isUpdated) {\r\n            alert.success('Password updated successfully')\r\n\r\n            history.push('/me')\r\n\r\n            dispatch({\r\n                type: UPDATE_PASSWORD_RESET\r\n            })\r\n        }\r\n\r\n    }, [dispatch, alert, error, history, isUpdated])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.set('oldPassword', oldPassword);\r\n        formData.set('password', password);\r\n\r\n        dispatch(updatePassword(formData))\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Change Password'} />\r\n\r\n            <div className=\"row wrapper\">\r\n                <div className=\"col-10 col-lg-5\">\r\n                    <form className=\"shadow-lg\" onSubmit={submitHandler}>\r\n                        <h1 className=\"mt-2 mb-5\">Update Password</h1>\r\n                        <div className=\"form-group\">\r\n                            <label for=\"old_password_field\">Old Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"old_password_field\"\r\n                                className=\"form-control\"\r\n                                value={oldPassword}\r\n                                onChange={(e) => setOldPassword(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label for=\"new_password_field\">New Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"new_password_field\"\r\n                                className=\"form-control\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <button type=\"submit\" className=\"btn update-btn btn-block mt-4 mb-3\" disabled={loading ? true : false} >Update Password</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default UpdatePassword\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\n\r\nimport MetaData from '../layout/MetaData'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { forgotPassword, clearErrors } from '../../actions/userActions'\r\n\r\nconst ForgotPassword = () => {\r\n\r\n    const [email, setEmail] = useState('')\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { error, loading, message } = useSelector(state => state.forgotPassword)\r\n\r\n    useEffect(() => {\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors());\r\n        }\r\n\r\n        if (message) {\r\n            alert.success(message)\r\n        }\r\n\r\n    }, [dispatch, alert, error, message])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.set('email', email);\r\n\r\n        dispatch(forgotPassword(formData))\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'Forgot Password'} />\r\n\r\n            <div className=\"row wrapper\">\r\n                <div className=\"col-10 col-lg-5\">\r\n                    <form className=\"shadow-lg\" onSubmit={submitHandler}>\r\n                        <h1 className=\"mb-3\">Forgot Password</h1>\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"email_field\">Enter Email</label>\r\n                            <input\r\n                                type=\"email\"\r\n                                id=\"email_field\"\r\n                                className=\"form-control\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <button\r\n                            id=\"forgot_password_button\"\r\n                            type=\"submit\"\r\n                            className=\"btn btn-block py-3\"\r\n                            disabled={loading ? true : false} >\r\n                            Send Email\r\n                    </button>\r\n\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ForgotPassword\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\n\r\nimport MetaData from '../layout/MetaData'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { resetPassword, clearErrors } from '../../actions/userActions'\r\n\r\nconst NewPassword = ({ history, match }) => {\r\n\r\n    const [password, setPassword] = useState('')\r\n    const [confirmPassword, setConfirmPassword] = useState('')\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { error, success } = useSelector(state => state.forgotPassword)\r\n\r\n    useEffect(() => {\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors());\r\n        }\r\n\r\n        if (success) {\r\n            alert.success('Password updated successfully')\r\n            history.push('/login')\r\n        }\r\n\r\n    }, [dispatch, alert, error, success, history])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.set('password', password);\r\n        formData.set('confirmPassword', confirmPassword);\r\n\r\n        dispatch(resetPassword(match.params.token, formData))\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <MetaData title={'New Password Reset'} />\r\n\r\n            <div className=\"row wrapper\">\r\n                <div className=\"col-10 col-lg-5\">\r\n                    <form className=\"shadow-lg\" onSubmit={submitHandler}>\r\n                        <h1 className=\"mb-3\">New Password</h1>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"password_field\">Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"password_field\"\r\n                                className=\"form-control\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"confirm_password_field\">Confirm Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"confirm_password_field\"\r\n                                className=\"form-control\"\r\n                                value={confirmPassword}\r\n                                onChange={(e) => setConfirmPassword(e.target.value)}\r\n                            />\r\n                        </div>\r\n\r\n                        <button\r\n                            id=\"new_password_button\"\r\n                            type=\"submit\"\r\n                            className=\"btn btn-block py-3\">\r\n                            Set Password\r\n                        </button>\r\n\r\n                    </form>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default NewPassword\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Sidebar = () => {\r\n    return (\r\n        <div className=\"sidebar-wrapper\">\r\n            <nav id=\"sidebar\">\r\n                <ul className=\"list-unstyled components\">\r\n                    <li>\r\n                        <Link to=\"/dashboard\"><i className=\"fa fa-tachometer\"></i> Dashboard</Link>\r\n                    </li>\r\n\r\n                    <li>\r\n                        <a href=\"#productSubmenu\" data-toggle=\"collapse\" aria-expanded=\"false\" className=\"dropdown-toggle\"><i\r\n                            className=\"fa fa-product-hunt\"></i> Products</a>\r\n                        <ul className=\"collapse list-unstyled\" id=\"productSubmenu\">\r\n                            <li>\r\n                                <Link to=\"/admin/products\"><i className=\"fa fa-clipboard\"></i> All</Link>\r\n                            </li>\r\n\r\n                            <li>\r\n                                <Link to=\"/admin/product\"><i className=\"fa fa-plus\"></i> Create</Link>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n\r\n                    <li>\r\n                        <Link to=\"/admin/orders\"><i className=\"fa fa-shopping-basket\"></i> Orders</Link>\r\n                    </li>\r\n\r\n                    <li>\r\n                        <Link to=\"/admin/users\"><i className=\"fa fa-users\"></i> Users</Link>\r\n                    </li>\r\n\r\n                    <li>\r\n                        <Link to=\"/admin/reviews\"><i className=\"fa fa-star\"></i> Reviews</Link>\r\n                    </li>\r\n\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar\r\n","import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\nimport Sidebar from './Sidebar'\r\n\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { getAdminProducts } from '../../actions/productActions'\r\nimport { allOrders } from '../../actions/orderActions'\r\nimport { allUsers } from '../../actions/userActions'\r\n\r\nconst Dashboard = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const { products } = useSelector(state => state.products)\r\n    const { users } = useSelector(state => state.allUsers)\r\n    const { orders, totalAmount, loading } = useSelector(state => state.allOrders)\r\n\r\n    let outOfStock = 0;\r\n    products.forEach(product => {\r\n        if (product.stock === 0) {\r\n            outOfStock += 1;\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        dispatch(getAdminProducts())\r\n        dispatch(allOrders())\r\n        dispatch(allUsers())\r\n    }, [dispatch])\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"row\">\r\n                <div className=\"col-12 col-md-2\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-10\">\r\n                    <h1 className=\"my-4\">Dashboard</h1>\r\n\r\n                    {loading ? <Loader /> : (\r\n                        <Fragment>\r\n                            <MetaData title={'Admin Dashboard'} />\r\n\r\n                            <div className=\"row pr-4\">\r\n                                <div className=\"col-xl-12 col-sm-12 mb-3\">\r\n                                    <div className=\"card text-white bg-primary o-hidden h-100\">\r\n                                        <div className=\"card-body\">\r\n                                            <div className=\"text-center card-font-size\">Total Amount<br /> <b>${totalAmount && totalAmount.toFixed(2)}</b>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"row pr-4\">\r\n                                <div className=\"col-xl-3 col-sm-6 mb-3\">\r\n                                    <div className=\"card text-white bg-success o-hidden h-100\">\r\n                                        <div className=\"card-body\">\r\n                                            <div className=\"text-center card-font-size\">Products<br /> <b>{products && products.length}</b></div>\r\n                                        </div>\r\n                                        <Link className=\"card-footer text-white clearfix small z-1\" to=\"/admin/products\">\r\n                                            <span className=\"float-left\">View Details</span>\r\n                                            <span className=\"float-right\">\r\n                                                <i className=\"fa fa-angle-right\"></i>\r\n                                            </span>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                                <div className=\"col-xl-3 col-sm-6 mb-3\">\r\n                                    <div className=\"card text-white bg-danger o-hidden h-100\">\r\n                                        <div className=\"card-body\">\r\n                                            <div className=\"text-center card-font-size\">Orders<br /> <b>{orders && orders.length}</b></div>\r\n                                        </div>\r\n                                        <Link className=\"card-footer text-white clearfix small z-1\" to=\"/admin/orders\">\r\n                                            <span className=\"float-left\">View Details</span>\r\n                                            <span className=\"float-right\">\r\n                                                <i className=\"fa fa-angle-right\"></i>\r\n                                            </span>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                                <div className=\"col-xl-3 col-sm-6 mb-3\">\r\n                                    <div className=\"card text-white bg-info o-hidden h-100\">\r\n                                        <div className=\"card-body\">\r\n                                            <div className=\"text-center card-font-size\">Users<br /> <b>{users && users.length}</b></div>\r\n                                        </div>\r\n                                        <Link className=\"card-footer text-white clearfix small z-1\" to=\"/admin/users\">\r\n                                            <span className=\"float-left\">View Details</span>\r\n                                            <span className=\"float-right\">\r\n                                                <i className=\"fa fa-angle-right\"></i>\r\n                                            </span>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n                                <div className=\"col-xl-3 col-sm-6 mb-3\">\r\n                                    <div className=\"card text-white bg-warning o-hidden h-100\">\r\n                                        <div className=\"card-body\">\r\n                                            <div className=\"text-center card-font-size\">Out of Stock<br /> <b>{outOfStock}</b></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Fragment>\r\n                    )}\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment >\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n","import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { MDBDataTable } from 'mdbreact'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\nimport Sidebar from './Sidebar'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getAdminProducts, deleteProduct, clearErrors } from '../../actions/productActions'\r\nimport { DELETE_PRODUCT_RESET } from '../../constants/productConstants'\r\n\r\nconst ProductsList = ({ history }) => {\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { loading, error, products } = useSelector(state => state.products);\r\n    const { error: deleteError, isDeleted } = useSelector(state => state.product)\r\n\r\n    useEffect(() => {\r\n        dispatch(getAdminProducts());\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n        if (deleteError) {\r\n            alert.error(deleteError);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n        if (isDeleted) {\r\n            alert.success('Product deleted successfully');\r\n            history.push('/admin/products');\r\n            dispatch({ type: DELETE_PRODUCT_RESET })\r\n        }\r\n\r\n    }, [dispatch, alert, error, deleteError, isDeleted, history])\r\n\r\n    const setProducts = () => {\r\n        const data = {\r\n            columns: [\r\n                {\r\n                    label: 'ID',\r\n                    field: 'id',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Name',\r\n                    field: 'name',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Price',\r\n                    field: 'price',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Stock',\r\n                    field: 'stock',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Actions',\r\n                    field: 'actions',\r\n                },\r\n            ],\r\n            rows: []\r\n        }\r\n\r\n        products.forEach(product => {\r\n            data.rows.push({\r\n                id: product._id,\r\n                name: product.name,\r\n                price: `$${product.price}`,\r\n                stock: product.stock,\r\n                actions: <Fragment>\r\n                    <Link to={`/admin/product/${product._id}`} className=\"btn btn-primary py-1 px-2 m-2\">\r\n                        <i className=\"fa fa-pencil\"></i>\r\n                    </Link>\r\n                    <button className=\"btn btn-danger py-1 px-2  m-2\" onClick={() => deleteProductHandler(product._id)}>\r\n                        <i className=\"fa fa-trash\"></i>\r\n                    </button>\r\n                </Fragment>\r\n            })\r\n        })\r\n\r\n        return data;\r\n    }\r\n\r\n    const deleteProductHandler = (id) => {\r\n        dispatch(deleteProduct(id))\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'All Products'} />\r\n            <div className=\"row\">\r\n                <div className=\"col-12 col-md-2\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-10\">\r\n                    <Fragment>\r\n                        <h1 className=\"my-5\">All Products</h1>\r\n\r\n                        {loading ? <Loader /> : (\r\n                            <MDBDataTable\r\n                                data={setProducts()}\r\n                                className=\"px-3\"\r\n                                bordered\r\n                                striped\r\n                                hover\r\n                                responsiveSm\r\n                            />\r\n                        )}\r\n\r\n                    </Fragment>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ProductsList\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\n\r\nimport MetaData from '../layout/MetaData';\r\nimport Sidebar from './Sidebar';\r\n\r\nimport { useAlert } from 'react-alert';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { newProduct, clearErrors } from '../../actions/productActions';\r\nimport { NEW_PRODUCT_RESET } from '../../constants/productConstants';\r\n\r\nconst NewProduct = ({ history }) => {\r\n  const [name, setName] = useState('');\r\n  const [price, setPrice] = useState(0);\r\n  const [description, setDescription] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [stock, setStock] = useState(0);\r\n  const [seller, setSeller] = useState('');\r\n  const [images, setImages] = useState([]);\r\n  const [imagesPreview, setImagesPreview] = useState([]);\r\n\r\n  const categories = [\r\n    'Select Category',\r\n    'Electronics',\r\n    'Clothes',\r\n    'Shoes',\r\n    'Beauty/Health',\r\n    'Medicine',\r\n    'Food',\r\n    'Sports',\r\n    'Books',\r\n    'Outdoor',\r\n    'Accessories',\r\n    'Home',\r\n    'Others',\r\n  ];\r\n\r\n  const alert = useAlert();\r\n  const dispatch = useDispatch();\r\n\r\n  const { loading, error, success } = useSelector((state) => state.newProduct);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      alert.error(error);\r\n      dispatch(clearErrors());\r\n    }\r\n\r\n    if (success) {\r\n      history.push('/admin/products');\r\n      alert.success('Product created successfully');\r\n      dispatch({ type: NEW_PRODUCT_RESET });\r\n    }\r\n  }, [dispatch, alert, error, success, history]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (images.length <= 1) {\r\n      alert.error('Please select at least 2 images');\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.set('name', name);\r\n    formData.set('price', price);\r\n    formData.set('description', description);\r\n    formData.set('category', category);\r\n    formData.set('stock', stock);\r\n    formData.set('seller', seller);\r\n\r\n    images.forEach((image) => {\r\n      formData.append('images', image);\r\n    });\r\n\r\n    dispatch(newProduct(formData));\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const files = Array.from(e.target.files);\r\n\r\n    setImagesPreview([]);\r\n    setImages([]);\r\n\r\n    files.forEach((file) => {\r\n      setImagesPreview((oldArray) => [...oldArray, URL.createObjectURL(file)]);\r\n      setImages((oldArray) => [...oldArray, file]);\r\n    });\r\n  };\r\n\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title={'New Product'} />\r\n      <div className=\"row\">\r\n        <div className=\"col-12 col-md-2\">\r\n          <Sidebar />\r\n        </div>\r\n\r\n        <div className=\"col-12 col-md-10\">\r\n          <Fragment>\r\n            <div className=\"wrapper my-5\">\r\n              <form\r\n                className=\"shadow-lg\"\r\n                onSubmit={submitHandler}\r\n                encType=\"multipart/form-data\"\r\n              >\r\n                <h1 className=\"mb-4\">New Product</h1>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"name_field\">Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"name_field\"\r\n                    className=\"form-control\"\r\n                    value={name}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"price_field\">Price</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    id=\"price_field\"\r\n                    className=\"form-control\"\r\n                    value={price}\r\n                    onChange={(e) => setPrice(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"description_field\">Description</label>\r\n                  <textarea\r\n                    className=\"form-control\"\r\n                    id=\"description_field\"\r\n                    rows=\"8\"\r\n                    value={description}\r\n                    onChange={(e) => setDescription(e.target.value)}\r\n                  ></textarea>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"category_field\">Category</label>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    id=\"category_field\"\r\n                    value={category}\r\n                    onChange={(e) => setCategory(e.target.value)}\r\n                  >\r\n                    {categories.map((category) => (\r\n                      <option key={category} value={category}>\r\n                        {category}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"stock_field\">Stock</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    id=\"stock_field\"\r\n                    className=\"form-control\"\r\n                    value={stock}\r\n                    onChange={(e) => setStock(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"seller_field\">Seller Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"seller_field\"\r\n                    className=\"form-control\"\r\n                    value={seller}\r\n                    onChange={(e) => setSeller(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Images</label>\r\n\r\n                  <div className=\"custom-file\">\r\n                    <input\r\n                      type=\"file\"\r\n                      name=\"product_images\"\r\n                      className=\"custom-file-input\"\r\n                      id=\"customFile\"\r\n                      onChange={onChange}\r\n                      multiple\r\n                    />\r\n                    <label className=\"custom-file-label\" htmlFor=\"customFile\">\r\n                      Choose Images\r\n                    </label>\r\n                  </div>\r\n\r\n                  {imagesPreview.map((img) => (\r\n                    <img\r\n                      src={img}\r\n                      key={img}\r\n                      alt=\"Images Preview\"\r\n                      className=\"mt-3 mr-2\"\r\n                      width=\"55\"\r\n                      height=\"52\"\r\n                    />\r\n                  ))}\r\n                </div>\r\n\r\n                <button\r\n                  id=\"login_button\"\r\n                  type=\"submit\"\r\n                  className=\"btn btn-block py-3\"\r\n                  disabled={loading ? true : false}\r\n                >\r\n                  CREATE\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </Fragment>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default NewProduct;\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\n\r\nimport MetaData from '../layout/MetaData';\r\nimport Sidebar from './Sidebar';\r\n\r\nimport { useAlert } from 'react-alert';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  updateProduct,\r\n  getProductDetails,\r\n  clearErrors,\r\n} from '../../actions/productActions';\r\nimport { UPDATE_PRODUCT_RESET } from '../../constants/productConstants';\r\n\r\nconst UpdateProduct = ({ match, history }) => {\r\n  const [name, setName] = useState('');\r\n  const [price, setPrice] = useState(0);\r\n  const [description, setDescription] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [stock, setStock] = useState(0);\r\n  const [seller, setSeller] = useState('');\r\n  const [images, setImages] = useState([]);\r\n\r\n  const [oldImages, setOldImages] = useState([]);\r\n  const [imagesPreview, setImagesPreview] = useState([]);\r\n  const [featured, setFeatured] = useState(false);\r\n\r\n  const categories = [\r\n    'Electronics',\r\n    'Clothes',\r\n    'Shoes',\r\n    'Beauty/Health',\r\n    'Medicine',\r\n    'Food',\r\n    'Sports',\r\n    'Books',\r\n    'Outdoor',\r\n    'Accessories',\r\n    'Home',\r\n    'Others',\r\n  ];\r\n\r\n  const alert = useAlert();\r\n  const dispatch = useDispatch();\r\n\r\n  const { error, product } = useSelector((state) => state.productDetails);\r\n  const {\r\n    loading,\r\n    error: updateError,\r\n    isUpdated,\r\n  } = useSelector((state) => state.product);\r\n\r\n  const productId = match.params.id;\r\n\r\n  useEffect(() => {\r\n    if (product && product._id !== productId) {\r\n      dispatch(getProductDetails(productId));\r\n    } else {\r\n      setName(product.name);\r\n      setPrice(product.price);\r\n      setDescription(product.description);\r\n      setCategory(product.category);\r\n      setSeller(product.seller);\r\n      setStock(product.stock);\r\n      setOldImages(product.images);\r\n      setFeatured(product.featured);\r\n    }\r\n\r\n    if (error) {\r\n      alert.error(error);\r\n      dispatch(clearErrors());\r\n    }\r\n\r\n    if (updateError) {\r\n      alert.error(updateError);\r\n      dispatch(clearErrors());\r\n    }\r\n\r\n    if (isUpdated) {\r\n      history.push('/admin/products');\r\n      alert.success('Product updated successfully');\r\n      dispatch({ type: UPDATE_PRODUCT_RESET });\r\n    }\r\n  }, [\r\n    dispatch,\r\n    alert,\r\n    error,\r\n    isUpdated,\r\n    history,\r\n    updateError,\r\n    product,\r\n    productId,\r\n  ]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.set('name', name);\r\n    formData.set('price', price);\r\n    formData.set('description', description);\r\n    formData.set('category', category);\r\n    formData.set('stock', stock);\r\n    formData.set('seller', seller);\r\n    formData.set('featured', featured);\r\n\r\n    images.forEach((image) => {\r\n      formData.append('images', image);\r\n    });\r\n\r\n    dispatch(updateProduct(product._id, formData));\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const files = Array.from(e.target.files);\r\n\r\n    setImagesPreview([]);\r\n    setImages([]);\r\n    setOldImages([]);\r\n\r\n    files.forEach((file) => {\r\n      setImagesPreview((oldArray) => [...oldArray, URL.createObjectURL(file)]);\r\n      setImages((oldArray) => [...oldArray, file]);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title={'Update Product'} />\r\n      <div className=\"row\">\r\n        <div className=\"col-12 col-md-2\">\r\n          <Sidebar />\r\n        </div>\r\n\r\n        <div className=\"col-12 col-md-10\">\r\n          <Fragment>\r\n            <div className=\"wrapper my-5\">\r\n              <form\r\n                className=\"shadow-lg\"\r\n                onSubmit={submitHandler}\r\n                encType=\"multipart/form-data\"\r\n              >\r\n                <h1 className=\"mb-4\">Update Product</h1>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"name_field\">Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"name_field\"\r\n                    className=\"form-control\"\r\n                    value={name}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"price_field\">Price</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    id=\"price_field\"\r\n                    className=\"form-control\"\r\n                    value={price}\r\n                    onChange={(e) => setPrice(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"description_field\">Description</label>\r\n                  <textarea\r\n                    className=\"form-control\"\r\n                    id=\"description_field\"\r\n                    rows=\"8\"\r\n                    value={description}\r\n                    onChange={(e) => setDescription(e.target.value)}\r\n                  ></textarea>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"category_field\">Category</label>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    id=\"category_field\"\r\n                    value={category}\r\n                    onChange={(e) => setCategory(e.target.value)}\r\n                  >\r\n                    {categories.map((category) => (\r\n                      <option key={category} value={category}>\r\n                        {category}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"stock_field\">Stock</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    id=\"stock_field\"\r\n                    className=\"form-control\"\r\n                    value={stock}\r\n                    onChange={(e) => setStock(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"seller_field\">Seller Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"seller_field\"\r\n                    className=\"form-control\"\r\n                    value={seller}\r\n                    onChange={(e) => setSeller(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label>Images</label>\r\n\r\n                  <div className=\"custom-file\">\r\n                    <input\r\n                      type=\"file\"\r\n                      name=\"product_images\"\r\n                      className=\"custom-file-input\"\r\n                      id=\"customFile\"\r\n                      onChange={onChange}\r\n                      multiple\r\n                    />\r\n                    <label className=\"custom-file-label\" htmlFor=\"customFile\">\r\n                      Choose Images\r\n                    </label>\r\n                  </div>\r\n\r\n                  {oldImages &&\r\n                    oldImages.map((img) => (\r\n                      <img\r\n                        key={img.url}\r\n                        src={img.url}\r\n                        alt={img.url}\r\n                        className=\"mt-3 mr-2\"\r\n                        width=\"55\"\r\n                        height=\"52\"\r\n                      />\r\n                    ))}\r\n\r\n                  {imagesPreview.map((img) => (\r\n                    <img\r\n                      src={img}\r\n                      key={img}\r\n                      alt=\"Images Preview\"\r\n                      className=\"mt-3 mr-2\"\r\n                      width=\"55\"\r\n                      height=\"52\"\r\n                    />\r\n                  ))}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"featured_field\">Featured</label>\r\n                  <select\r\n                    className=\"form-control\"\r\n                    id=\"featured_field\"\r\n                    value={featured}\r\n                    onChange={(e) => setFeatured(e.target.value)}\r\n                  >\r\n                    <option value={true}>Yes</option>\r\n                    <option value={false}>No</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <button\r\n                  id=\"login_button\"\r\n                  type=\"submit\"\r\n                  className=\"btn btn-block py-3\"\r\n                  disabled={loading ? true : false}\r\n                >\r\n                  UPDATE\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </Fragment>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { MDBDataTable } from 'mdbreact'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\nimport Sidebar from './Sidebar'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { allOrders, deleteOrder, clearErrors } from '../../actions/orderActions'\r\nimport { DELETE_ORDER_RESET } from '../../constants/orderConstants'\r\n\r\nconst OrdersList = ({ history }) => {\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { loading, error, orders } = useSelector(state => state.allOrders);\r\n    const { isDeleted } = useSelector(state => state.order)\r\n\r\n    useEffect(() => {\r\n        dispatch(allOrders());\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n        if (isDeleted) {\r\n            alert.success('Order deleted successfully');\r\n            history.push('/admin/orders');\r\n            dispatch({ type: DELETE_ORDER_RESET })\r\n        }\r\n\r\n    }, [dispatch, alert, error, isDeleted, history])\r\n\r\n    const deleteOrderHandler = (id) => {\r\n        dispatch(deleteOrder(id))\r\n    }\r\n\r\n    const setOrders = () => {\r\n        const data = {\r\n            columns: [\r\n                {\r\n                    label: 'Order ID',\r\n                    field: 'id',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'No of Items',\r\n                    field: 'numofItems',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Amount',\r\n                    field: 'amount',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Status',\r\n                    field: 'status',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Actions',\r\n                    field: 'actions',\r\n                },\r\n            ],\r\n            rows: []\r\n        }\r\n\r\n        orders.forEach(order => {\r\n            data.rows.push({\r\n                id: order._id,\r\n                numofItems: order.orderItems.length,\r\n                amount: `$${order.totalPrice}`,\r\n                status: order.orderStatus && String(order.orderStatus).includes('Delivered')\r\n                    ? <p style={{ color: 'green' }}>{order.orderStatus}</p>\r\n                    : <p style={{ color: 'red' }}>{order.orderStatus}</p>,\r\n                actions: <Fragment>\r\n                    <Link to={`/admin/order/${order._id}`} className=\"btn btn-primary py-1 px-2 m-2\">\r\n                        <i className=\"fa fa-eye\"></i>\r\n                    </Link>\r\n                    <button className=\"btn btn-danger py-1 px-2 m-2\" onClick={() => deleteOrderHandler(order._id)}>\r\n                        <i className=\"fa fa-trash\"></i>\r\n                    </button>\r\n                </Fragment>\r\n            })\r\n        })\r\n\r\n        return data;\r\n    }\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'All Orders'} />\r\n            <div className=\"row\">\r\n                <div className=\"col-12 col-md-2\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-10\">\r\n                    <Fragment>\r\n                        <h1 className=\"my-5\">All Orders</h1>\r\n\r\n                        {loading ? <Loader /> : (\r\n                            <MDBDataTable\r\n                                data={setOrders()}\r\n                                className=\"px-3\"\r\n                                bordered\r\n                                striped\r\n                                hover\r\n                                responsiveSm\r\n                            />\r\n                        )}\r\n\r\n                    </Fragment>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default OrdersList\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Container } from 'react-bootstrap';\r\nimport MetaData from '../layout/MetaData';\r\nimport Loader from '../layout/Loader';\r\nimport Sidebar from './Sidebar';\r\n\r\nimport { useAlert } from 'react-alert';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  getOrderDetails,\r\n  updateOrder,\r\n  clearErrors,\r\n} from '../../actions/orderActions';\r\nimport { UPDATE_ORDER_RESET } from '../../constants/orderConstants';\r\n\r\nconst ProcessOrder = ({ match }) => {\r\n  const [status, setStatus] = useState('');\r\n\r\n  const alert = useAlert();\r\n  const dispatch = useDispatch();\r\n\r\n  const { loading, order = {} } = useSelector((state) => state.orderDetails);\r\n  const {\r\n    shippingInfo,\r\n    orderItems,\r\n    paymentInfo,\r\n    user,\r\n    totalPrice,\r\n    orderStatus,\r\n  } = order;\r\n  const { error, isUpdated } = useSelector((state) => state.order);\r\n\r\n  const orderId = match.params.id;\r\n\r\n  useEffect(() => {\r\n    dispatch(getOrderDetails(orderId));\r\n\r\n    if (error) {\r\n      alert.error(error);\r\n      dispatch(clearErrors());\r\n    }\r\n\r\n    if (isUpdated) {\r\n      alert.success('Order updated successfully');\r\n      dispatch({ type: UPDATE_ORDER_RESET });\r\n    }\r\n  }, [dispatch, alert, error, isUpdated, orderId]);\r\n\r\n  const updateOrderHandler = (order) => {\r\n    const id = order._id;\r\n\r\n    const formData = new FormData();\r\n    formData.set('status', status);\r\n\r\n    dispatch(updateOrder(id, formData));\r\n  };\r\n\r\n  const shippingDetails =\r\n    shippingInfo &&\r\n    `${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.postalCode}, ${shippingInfo.country}`;\r\n  const isPaid =\r\n    paymentInfo && paymentInfo.status === 'succeeded' ? true : false;\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title={`Process Order # ${order && order._id}`} />\r\n      <div className=\"row\">\r\n        <div className=\"col-12 col-md-2\">\r\n          <Sidebar />\r\n        </div>\r\n\r\n        <div className=\"col-12 col-md-10\">\r\n          <Fragment>\r\n            {loading ? (\r\n              <Loader />\r\n            ) : (\r\n              <div className=\"row d-flex justify-content-around\">\r\n                <div className=\"col-12 col-lg-7 order-details\">\r\n                  <h2 className=\"my-5\">Order # {order._id}</h2>\r\n\r\n                  <h4 className=\"mb-4\">Shipping Info</h4>\r\n                  <p>\r\n                    <b>Name:</b> {user && user.name}\r\n                  </p>\r\n                  <p>\r\n                    <b>Phone:</b> {shippingInfo && shippingInfo.phoneNo}\r\n                  </p>\r\n                  <p className=\"mb-4\">\r\n                    <b>Address:</b>\r\n                    {shippingDetails}\r\n                  </p>\r\n                  <p>\r\n                    <b>Amount:</b> ${totalPrice}\r\n                  </p>\r\n\r\n                  <hr />\r\n\r\n                  <h4 className=\"my-4\">\r\n                    Payment - ({paymentInfo && paymentInfo.paymentMethod})\r\n                  </h4>\r\n                  <p className={isPaid ? 'greenColor' : 'redColor'}>\r\n                    <b>{isPaid ? 'PAID' : 'NOT PAID'}</b>{' '}\r\n                    {order.paymentInfo &&\r\n                      order.paymentInfo.status === 'pending' &&\r\n                      order.paymentInfo.paymentMethod ===\r\n                        'Cash on Delivery' && (\r\n                        <button\r\n                          className=\"uni_btn btn btn-primary ml-5\"\r\n                          onClick={() =>\r\n                            dispatch(\r\n                              updateOrder(order._id, {\r\n                                orderStatus: status,\r\n                                paymentInfo: {\r\n                                  status: 'succeeded',\r\n                                },\r\n                              })\r\n                            )\r\n                          }\r\n                        >\r\n                          Mark as Paid\r\n                        </button>\r\n                      )}\r\n                  </p>\r\n\r\n                  <h4 className=\"my-4\">Payment ID</h4>\r\n                  <p>\r\n                    <b>{paymentInfo && paymentInfo.id}</b>\r\n                  </p>\r\n\r\n                  <h4 className=\"my-4\">Order Status:</h4>\r\n                  <p\r\n                    className={\r\n                      order.orderStatus &&\r\n                      String(order.orderStatus).includes('Delivered')\r\n                        ? 'greenColor'\r\n                        : 'redColor'\r\n                    }\r\n                  >\r\n                    <b>{orderStatus}</b>\r\n                  </p>\r\n\r\n                  <h4 className=\"my-4\">Order Items:</h4>\r\n\r\n                  <hr />\r\n                  <div className=\"cart-item my-1\">\r\n                    {orderItems &&\r\n                      orderItems.map((item) => (\r\n                        <div key={item.product} className=\"row my-5\">\r\n                          <div className=\"col-4 col-lg-2\">\r\n                            <img\r\n                              src={item.image}\r\n                              alt={item.name}\r\n                              height=\"45\"\r\n                              width=\"65\"\r\n                            />\r\n                          </div>\r\n\r\n                          <div className=\"col-5 col-lg-5\">\r\n                            <Link to={`/products/${item.product}`}>\r\n                              {item.name}\r\n                            </Link>\r\n                          </div>\r\n\r\n                          <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\r\n                            <p>${item.price}</p>\r\n                          </div>\r\n\r\n                          <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\r\n                            <p>{item.quantity} Piece(s)</p>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                  </div>\r\n                  <hr />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-lg-3 mt-5\">\r\n                  <Container>\r\n                    <h4 className=\"my-4\">Status</h4>\r\n                  </Container>\r\n\r\n                  <Container className=\"form-group\">\r\n                    <select\r\n                      className=\"form-control\"\r\n                      name=\"status\"\r\n                      value={status}\r\n                      onChange={(e) => setStatus(e.target.value)}\r\n                    >\r\n                      <option value=\"Processing\">Processing</option>\r\n                      <option value=\"Shipped\">Shipped</option>\r\n                      <option value=\"Delivered\">Delivered</option>\r\n                    </select>\r\n                  </Container>\r\n                  <Container>\r\n                    <button\r\n                      className=\"btn btn-primary btn-block mb-3\"\r\n                      onClick={() => updateOrderHandler(order)}\r\n                    >\r\n                      Update Status\r\n                    </button>\r\n                  </Container>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </Fragment>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ProcessOrder;\r\n","import React, { Fragment, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { MDBDataTable } from 'mdbreact'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Loader from '../layout/Loader'\r\nimport Sidebar from './Sidebar'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { allUsers, deleteUser, clearErrors } from '../../actions/userActions'\r\nimport { DELETE_USER_RESET } from '../../constants/userConstants'\r\n\r\nconst UsersList = ({ history }) => {\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { loading, error, users } = useSelector(state => state.allUsers);\r\n    const { isDeleted } = useSelector(state => state.user)\r\n\r\n    useEffect(() => {\r\n        dispatch(allUsers());\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors())\r\n        }\r\n\r\n        if (isDeleted) {\r\n            alert.success('User deleted successfully');\r\n            history.push('/admin/users');\r\n            dispatch({ type: DELETE_USER_RESET })\r\n        }\r\n\r\n    }, [dispatch, alert, error, isDeleted, history])\r\n\r\n    const deleteUserHandler = (id) => {\r\n        dispatch(deleteUser(id))\r\n    }\r\n\r\n    const setUsers = () => {\r\n        const data = {\r\n            columns: [\r\n                {\r\n                    label: 'User ID',\r\n                    field: 'id',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Name',\r\n                    field: 'name',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Email',\r\n                    field: 'email',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Role',\r\n                    field: 'role',\r\n                    sort: 'asc'\r\n                },\r\n                {\r\n                    label: 'Actions',\r\n                    field: 'actions',\r\n                },\r\n            ],\r\n            rows: []\r\n        }\r\n\r\n        users.forEach(user => {\r\n            data.rows.push({\r\n                id: user._id,\r\n                name: user.name,\r\n                email: user.email,\r\n                role: user.role,\r\n\r\n                actions: <Fragment>\r\n                    <Link to={`/admin/user/${user._id}`} className=\"btn btn-primary py-1 px-2 m-2\">\r\n                        <i className=\"fa fa-pencil\"></i>\r\n                    </Link>\r\n                    <button className=\"btn btn-danger py-1 px-2 m-2\" onClick={() => deleteUserHandler(user._id)}>\r\n                        <i className=\"fa fa-trash\"></i>\r\n                    </button>\r\n                </Fragment>\r\n            })\r\n        })\r\n\r\n        return data;\r\n    }\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={'All Users'} />\r\n            <div className=\"row\">\r\n                <div className=\"col-12 col-md-2\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-10\">\r\n                    <Fragment>\r\n                        <h1 className=\"my-5\">All Users</h1>\r\n\r\n                        {loading ? <Loader /> : (\r\n                            <MDBDataTable\r\n                                data={setUsers()}\r\n                                className=\"px-3\"\r\n                                bordered\r\n                                striped\r\n                                hover\r\n                                responsiveSm\r\n                            />\r\n                        )}\r\n\r\n                    </Fragment>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default UsersList\r\n","import React, { Fragment, useState, useEffect } from 'react'\r\n\r\nimport MetaData from '../layout/MetaData'\r\nimport Sidebar from './Sidebar'\r\n\r\nimport { useAlert } from 'react-alert'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { updateUser, getUserDetails, clearErrors } from '../../actions/userActions'\r\nimport { UPDATE_USER_RESET } from '../../constants/userConstants'\r\n\r\nconst UpdateUser = ({ history, match }) => {\r\n\r\n    const [name, setName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [role, setRole] = useState('')\r\n\r\n    const alert = useAlert();\r\n    const dispatch = useDispatch();\r\n\r\n    const { error, isUpdated } = useSelector(state => state.user);\r\n    const { user } = useSelector(state => state.userDetails)\r\n\r\n    const userId = match.params.id;\r\n\r\n    useEffect(() => {\r\n\r\n        if (user && user._id !== userId) {\r\n            dispatch(getUserDetails(userId))\r\n        } else {\r\n            setName(user.name);\r\n            setEmail(user.email);\r\n            setRole(user.role)\r\n        }\r\n\r\n        if (error) {\r\n            alert.error(error);\r\n            dispatch(clearErrors());\r\n        }\r\n\r\n        if (isUpdated) {\r\n            alert.success('User updated successfully')\r\n\r\n            history.push('/admin/users')\r\n\r\n            dispatch({\r\n                type: UPDATE_USER_RESET\r\n            })\r\n        }\r\n\r\n    }, [dispatch, alert, error, history, isUpdated, userId, user])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.set('name', name);\r\n        formData.set('email', email);\r\n        formData.set('role', role);\r\n\r\n        dispatch(updateUser(user._id, formData))\r\n    }\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <MetaData title={`Update User`} />\r\n            <div className=\"row\">\r\n                <div className=\"col-12 col-md-2\">\r\n                    <Sidebar />\r\n                </div>\r\n\r\n                <div className=\"col-12 col-md-10\">\r\n                    <div className=\"row wrapper\">\r\n                        <div className=\"col-10 col-lg-5\">\r\n                            <form className=\"shadow-lg\" onSubmit={submitHandler}>\r\n                                <h1 className=\"mt-2 mb-5\">Update User</h1>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"name_field\">Name</label>\r\n                                    <input\r\n                                        type=\"name\"\r\n                                        id=\"name_field\"\r\n                                        className=\"form-control\"\r\n                                        name='name'\r\n                                        value={name}\r\n                                        onChange={(e) => setName(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"email_field\">Email</label>\r\n                                    <input\r\n                                        type=\"email\"\r\n                                        id=\"email_field\"\r\n                                        className=\"form-control\"\r\n                                        name='email'\r\n                                        value={email}\r\n                                        onChange={(e) => setEmail(e.target.value)}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"role_field\">Role</label>\r\n\r\n                                    <select\r\n                                        id=\"role_field\"\r\n                                        className=\"form-control\"\r\n                                        name='role'\r\n                                        value={role}\r\n                                        onChange={(e) => setRole(e.target.value)}\r\n                                    >\r\n                                        <option value=\"user\">user</option>\r\n                                        <option value=\"admin\">admin</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <button type=\"submit\" className=\"btn update-btn btn-block mt-4 mb-3\" >Update</button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default UpdateUser\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport { MDBDataTable } from 'mdbreact';\r\n\r\nimport MetaData from '../layout/MetaData';\r\nimport Loader from '../layout/Loader';\r\nimport Sidebar from './Sidebar';\r\n\r\nimport { useAlert } from 'react-alert';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  getProductReviews,\r\n  deleteReview,\r\n  clearErrors,\r\n} from '../../actions/productActions';\r\nimport { DELETE_REVIEW_RESET } from '../../constants/productConstants';\r\n\r\nconst ProductReviews = () => {\r\n  const [productId, setProductId] = useState('');\r\n\r\n  const alert = useAlert();\r\n  const dispatch = useDispatch();\r\n\r\n  const { error, reviews } = useSelector((state) => state.productReviews);\r\n  const { isDeleted, error: deleteError } = useSelector(\r\n    (state) => state.review\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      alert.error(error);\r\n      dispatch(clearErrors());\r\n    }\r\n\r\n    if (deleteError) {\r\n      alert.error(deleteError);\r\n      dispatch(clearErrors());\r\n    }\r\n\r\n    if (productId !== '' && productId < 10) {\r\n      dispatch(getProductReviews(productId));\r\n    }\r\n\r\n    if (isDeleted) {\r\n      alert.success('Review deleted successfully');\r\n      dispatch({ type: DELETE_REVIEW_RESET });\r\n    }\r\n  }, [dispatch, alert, error, productId, isDeleted, deleteError]);\r\n\r\n  const deleteReviewHandler = (id) => {\r\n    dispatch(deleteReview(id, productId));\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(getProductReviews(productId));\r\n  };\r\n\r\n  const setReviews = () => {\r\n    const data = {\r\n      columns: [\r\n        {\r\n          label: 'Review ID',\r\n          field: 'id',\r\n          sort: 'asc',\r\n        },\r\n        {\r\n          label: 'Rating',\r\n          field: 'rating',\r\n          sort: 'asc',\r\n        },\r\n        {\r\n          label: 'Comment',\r\n          field: 'comment',\r\n          sort: 'asc',\r\n        },\r\n        {\r\n          label: 'User',\r\n          field: 'user',\r\n          sort: 'asc',\r\n        },\r\n        {\r\n          label: 'Actions',\r\n          field: 'actions',\r\n        },\r\n      ],\r\n      rows: [],\r\n    };\r\n\r\n    reviews.forEach((review) => {\r\n      data.rows.push({\r\n        id: review._id,\r\n        rating: review.rating,\r\n        comment: review.comment,\r\n        user: review.name,\r\n\r\n        actions: (\r\n          <button\r\n            className=\"btn btn-danger py-1 px-2 ml-2\"\r\n            onClick={() => deleteReviewHandler(review._id)}\r\n          >\r\n            <i className=\"fa fa-trash\"></i>\r\n          </button>\r\n        ),\r\n      });\r\n    });\r\n\r\n    return data;\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MetaData title={'Product Reviews'} />\r\n      <div className=\"row\">\r\n        <div className=\"col-12 col-md-2\">\r\n          <Sidebar />\r\n        </div>\r\n\r\n        <div className=\"col-12 col-md-10\">\r\n          <Fragment>\r\n            <div className=\"row justify-content-center mt-5\">\r\n              <div className=\"col-5\">\r\n                <form onSubmit={submitHandler}>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"productId_field\">Enter Product ID</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"productId_field\"\r\n                      className=\"form-control\"\r\n                      value={productId}\r\n                      onChange={(e) => setProductId(e.target.value)}\r\n                    />\r\n                  </div>\r\n\r\n                  <button\r\n                    id=\"search_button\"\r\n                    type=\"submit\"\r\n                    className=\"btn btn-primary btn-block py-2\"\r\n                  >\r\n                    SEARCH\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n\r\n            {reviews && reviews.length > 0 ? (\r\n              <MDBDataTable\r\n                data={setReviews()}\r\n                className=\"px-3\"\r\n                bordered\r\n                striped\r\n                hover\r\n                responsiveSm\r\n              />\r\n            ) : (\r\n              <p className=\"mt-5 text-center\">No Reviews.</p>\r\n            )}\r\n          </Fragment>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ProductReviews;\r\n","import React, { Fragment } from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst ProtectedRoute = ({ isAdmin, component: Component, ...rest }) => {\r\n\r\n    const { isAuthenticated, loading, user } = useSelector(state => state.auth)\r\n\r\n    return (\r\n        <Fragment>\r\n            {loading === false && (\r\n                <Route\r\n                    {...rest}\r\n                    render={props => {\r\n                        if (isAuthenticated === false) {\r\n                            return <Redirect to='/login' />\r\n                        }\r\n\r\n                        if (isAdmin === true && user.role !== 'admin') {\r\n                            return <Redirect to=\"/\" />\r\n                        }\r\n\r\n                        return <Component {...props} />\r\n                    }}\r\n                />\r\n            )}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\n\r\nimport { productsReducer, newProductReducer, productReducer, productDetailsReducer, newReviewReducer, productReviewsReducer, reviewReducer } from './reducers/productReducers'\r\nimport { authReducer, userReducer, forgotPasswordReducer, allUsersReducer, userDetailsReducer } from './reducers/userReducers'\r\nimport { cartReducer } from './reducers/cartReducers'\r\nimport { newOrderReducer, myOrdersReducer, orderDetailsReducer, allOrdersReducer, orderReducer } from './reducers/orderReducers'\r\n\r\nconst reducer = combineReducers({\r\n    products: productsReducer,\r\n    productDetails: productDetailsReducer,\r\n    newProduct: newProductReducer,\r\n    product: productReducer,\r\n    productReviews: productReviewsReducer,\r\n    review: reviewReducer,\r\n    auth: authReducer,\r\n    user: userReducer,\r\n    allUsers: allUsersReducer,\r\n    userDetails: userDetailsReducer,\r\n    forgotPassword: forgotPasswordReducer,\r\n    cart: cartReducer,\r\n    newOrder: newOrderReducer,\r\n    myOrders: myOrdersReducer,\r\n    allOrders: allOrdersReducer,\r\n    orderDetails: orderDetailsReducer,\r\n    order: orderReducer,\r\n    newReview: newReviewReducer\r\n})\r\n\r\n\r\nlet initialState = {\r\n    cart: {\r\n        cartItems: localStorage.getItem('cartItems')\r\n            ? JSON.parse(localStorage.getItem('cartItems'))\r\n            : [],\r\n        shippingInfo: localStorage.getItem('shippingInfo')\r\n            ? JSON.parse(localStorage.getItem('shippingInfo'))\r\n            : {}\r\n    }\r\n}\r\n\r\nconst middlware = [thunk];\r\nconst store = createStore(reducer, initialState, composeWithDevTools(applyMiddleware(...middlware)))\r\n\r\nexport default store;","import {\r\n    ALL_PRODUCTS_REQUEST,\r\n    ALL_PRODUCTS_SUCCESS,\r\n    ALL_PRODUCTS_FAIL,\r\n    ADMIN_PRODUCTS_REQUEST,\r\n    ADMIN_PRODUCTS_SUCCESS,\r\n    ADMIN_PRODUCTS_FAIL,\r\n    NEW_PRODUCT_REQUEST,\r\n    NEW_PRODUCT_SUCCESS,\r\n    NEW_PRODUCT_RESET,\r\n    NEW_PRODUCT_FAIL,\r\n    DELETE_PRODUCT_REQUEST,\r\n    DELETE_PRODUCT_SUCCESS,\r\n    DELETE_PRODUCT_RESET,\r\n    DELETE_PRODUCT_FAIL,\r\n    UPDATE_PRODUCT_REQUEST,\r\n    UPDATE_PRODUCT_SUCCESS,\r\n    UPDATE_PRODUCT_RESET,\r\n    UPDATE_PRODUCT_FAIL,\r\n    PRODUCT_DETAILS_REQUEST,\r\n    PRODUCT_DETAILS_SUCCESS,\r\n    PRODUCT_DETAILS_FAIL,\r\n    NEW_REVIEW_REQUEST,\r\n    NEW_REVIEW_SUCCESS,\r\n    NEW_REVIEW_RESET,\r\n    NEW_REVIEW_FAIL,\r\n    GET_REVIEWS_REQUEST,\r\n    GET_REVIEWS_SUCCESS,\r\n    GET_REVIEWS_FAIL,\r\n    DELETE_REVIEW_REQUEST,\r\n    DELETE_REVIEW_SUCCESS,\r\n    DELETE_REVIEW_RESET,\r\n    DELETE_REVIEW_FAIL,\r\n    CLEAR_ERRORS\r\n\r\n} from '../constants/productConstants'\r\n\r\nexport const productsReducer = (state = { products: [] }, action) => {\r\n    switch (action.type) {\r\n        case ALL_PRODUCTS_REQUEST:\r\n        case ADMIN_PRODUCTS_REQUEST:\r\n            return {\r\n                loading: true,\r\n                products: []\r\n            }\r\n\r\n        case ALL_PRODUCTS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                products: action.payload.products,\r\n                productsCount: action.payload.productsCount,\r\n                resPerPage: action.payload.resPerPage,\r\n                filteredProductsCount: action.payload.filteredProductsCount\r\n            }\r\n\r\n        case ADMIN_PRODUCTS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                products: action.payload\r\n            }\r\n\r\n        case ALL_PRODUCTS_FAIL:\r\n        case ADMIN_PRODUCTS_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const newProductReducer = (state = { product: {} }, action) => {\r\n    switch (action.type) {\r\n\r\n        case NEW_PRODUCT_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case NEW_PRODUCT_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                success: action.payload.success,\r\n                product: action.payload.product\r\n            }\r\n\r\n        case NEW_PRODUCT_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n\r\n        case NEW_PRODUCT_RESET:\r\n            return {\r\n                ...state,\r\n                success: false\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const productReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n\r\n        case DELETE_PRODUCT_REQUEST:\r\n        case UPDATE_PRODUCT_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case DELETE_PRODUCT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isDeleted: action.payload\r\n            }\r\n\r\n        case UPDATE_PRODUCT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isUpdated: action.payload\r\n            }\r\n\r\n\r\n        case DELETE_PRODUCT_FAIL:\r\n        case UPDATE_PRODUCT_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n\r\n        case DELETE_PRODUCT_RESET:\r\n            return {\r\n                ...state,\r\n                isDeleted: false\r\n            }\r\n\r\n        case UPDATE_PRODUCT_RESET:\r\n            return {\r\n                ...state,\r\n                isUpdated: false\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const productDetailsReducer = (state = { product: {} }, action) => {\r\n    switch (action.type) {\r\n\r\n        case PRODUCT_DETAILS_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case PRODUCT_DETAILS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                product: action.payload\r\n            }\r\n\r\n        case PRODUCT_DETAILS_FAIL:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const newReviewReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n\r\n        case NEW_REVIEW_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case NEW_REVIEW_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                success: action.payload\r\n            }\r\n\r\n        case NEW_REVIEW_FAIL:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n\r\n        case NEW_REVIEW_RESET:\r\n            return {\r\n                ...state,\r\n                success: false\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const productReviewsReducer = (state = { review: [] }, action) => {\r\n    switch (action.type) {\r\n\r\n        case GET_REVIEWS_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case GET_REVIEWS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                reviews: action.payload\r\n            }\r\n\r\n        case GET_REVIEWS_FAIL:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const reviewReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n\r\n        case DELETE_REVIEW_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case DELETE_REVIEW_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isDeleted: action.payload\r\n            }\r\n\r\n        case DELETE_REVIEW_FAIL:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n\r\n        case DELETE_REVIEW_RESET:\r\n            return {\r\n                ...state,\r\n                isDeleted: false\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}","import {\r\n    LOGIN_REQUEST,\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAIL,\r\n    REGISTER_USER_REQUEST,\r\n    REGISTER_USER_SUCCESS,\r\n    REGISTER_USER_FAIL,\r\n    LOAD_USER_REQUEST,\r\n    LOAD_USER_SUCCESS,\r\n    LOAD_USER_FAIL,\r\n    UPDATE_PASSWORD_REQUEST,\r\n    UPDATE_PASSWORD_SUCCESS,\r\n    UPDATE_PASSWORD_RESET,\r\n    UPDATE_PASSWORD_FAIL,\r\n    UPDATE_PROFILE_REQUEST,\r\n    UPDATE_PROFILE_SUCCESS,\r\n    UPDATE_PROFILE_RESET,\r\n    UPDATE_PROFILE_FAIL,\r\n    FORGOT_PASSWORD_REQUEST,\r\n    FORGOT_PASSWORD_SUCCESS,\r\n    FORGOT_PASSWORD_FAIL,\r\n    NEW_PASSWORD_REQUEST,\r\n    NEW_PASSWORD_SUCCESS,\r\n    NEW_PASSWORD_FAIL,\r\n    ALL_USERS_REQUEST,\r\n    ALL_USERS_SUCCESS,\r\n    ALL_USERS_FAIL,\r\n    USER_DETAILS_REQUEST,\r\n    USER_DETAILS_SUCCESS,\r\n    USER_DETAILS_FAIL,\r\n    UPDATE_USER_REQUEST,\r\n    UPDATE_USER_SUCCESS,\r\n    UPDATE_USER_RESET,\r\n    UPDATE_USER_FAIL,\r\n    DELETE_USER_REQUEST,\r\n    DELETE_USER_SUCCESS,\r\n    DELETE_USER_RESET,\r\n    DELETE_USER_FAIL,\r\n    LOGOUT_SUCCESS,\r\n    LOGOUT_FAIL,\r\n    CLEAR_ERRORS\r\n} from '../constants/userConstants'\r\n\r\nexport const authReducer = (state = { user: {} }, action) => {\r\n    switch (action.type) {\r\n\r\n        case LOGIN_REQUEST:\r\n        case REGISTER_USER_REQUEST:\r\n        case LOAD_USER_REQUEST:\r\n            return {\r\n                loading: true,\r\n                isAuthenticated: false,\r\n            }\r\n\r\n        case LOGIN_SUCCESS:\r\n        case REGISTER_USER_SUCCESS:\r\n        case LOAD_USER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isAuthenticated: true,\r\n                user: action.payload\r\n            }\r\n\r\n        case LOGOUT_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                isAuthenticated: false,\r\n                user: null\r\n            }\r\n\r\n        case LOAD_USER_FAIL:\r\n            return {\r\n                loading: false,\r\n                isAuthenticated: false,\r\n                user: null,\r\n                error: action.payload\r\n            }\r\n\r\n        case LOGOUT_FAIL:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n\r\n        case LOGIN_FAIL:\r\n        case REGISTER_USER_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isAuthenticated: false,\r\n                user: null,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const userReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n\r\n        case UPDATE_PROFILE_REQUEST:\r\n        case UPDATE_PASSWORD_REQUEST:\r\n        case UPDATE_USER_REQUEST:\r\n        case DELETE_USER_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case UPDATE_PROFILE_SUCCESS:\r\n        case UPDATE_PASSWORD_SUCCESS:\r\n        case UPDATE_USER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isUpdated: action.payload\r\n            }\r\n\r\n        case DELETE_USER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isDeleted: action.payload\r\n            }\r\n\r\n        case UPDATE_PROFILE_RESET:\r\n        case UPDATE_PASSWORD_RESET:\r\n        case UPDATE_USER_RESET:\r\n            return {\r\n                ...state,\r\n                isUpdated: false\r\n            }\r\n\r\n        case DELETE_USER_RESET:\r\n            return {\r\n                ...state,\r\n                isDeleted: false\r\n            }\r\n\r\n        case UPDATE_PROFILE_FAIL:\r\n        case UPDATE_PASSWORD_FAIL:\r\n        case UPDATE_USER_FAIL:\r\n        case DELETE_USER_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const forgotPasswordReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n\r\n        case FORGOT_PASSWORD_REQUEST:\r\n        case NEW_PASSWORD_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n                error: null\r\n            }\r\n\r\n        case FORGOT_PASSWORD_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                message: action.payload\r\n            }\r\n\r\n        case NEW_PASSWORD_SUCCESS:\r\n            return {\r\n                ...state,\r\n                success: action.payload\r\n            }\r\n\r\n        case FORGOT_PASSWORD_FAIL:\r\n        case NEW_PASSWORD_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const allUsersReducer = (state = { users: [] }, action) => {\r\n    switch (action.type) {\r\n\r\n        case ALL_USERS_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n\r\n        case ALL_USERS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                users: action.payload\r\n            }\r\n\r\n        case ALL_USERS_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const userDetailsReducer = (state = { user: {} }, action) => {\r\n    switch (action.type) {\r\n\r\n        case USER_DETAILS_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n\r\n        case USER_DETAILS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                user: action.payload\r\n            }\r\n\r\n        case USER_DETAILS_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import { ADD_TO_CART, REMOVE_ITEM_CART, SAVE_SHIPPING_INFO } from '../constants/cartConstants'\r\n\r\nexport const cartReducer = (state = { cartItems: [], shippingInfo: {} }, action) => {\r\n    switch (action.type) {\r\n\r\n        case ADD_TO_CART:\r\n            const item = action.payload;\r\n\r\n            const isItemExist = state.cartItems.find(i => i.product === item.product)\r\n\r\n            if (isItemExist) {\r\n                return {\r\n                    ...state,\r\n                    cartItems: state.cartItems.map(i => i.product === isItemExist.product ? item : i)\r\n                }\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    cartItems: [...state.cartItems, item]\r\n                }\r\n            }\r\n\r\n        case REMOVE_ITEM_CART:\r\n            return {\r\n                ...state,\r\n                cartItems: state.cartItems.filter(i => i.product !== action.payload)\r\n            }\r\n\r\n\r\n        case SAVE_SHIPPING_INFO:\r\n            return {\r\n                ...state,\r\n                shippingInfo: action.payload\r\n            }\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n}","import {\r\n    CREATE_ORDER_REQUEST,\r\n    CREATE_ORDER_SUCCESS,\r\n    CREATE_ORDER_FAIL,\r\n    MY_ORDERS_REQUEST,\r\n    MY_ORDERS_SUCCESS,\r\n    MY_ORDERS_FAIL,\r\n    ALL_ORDERS_REQUEST,\r\n    ALL_ORDERS_SUCCESS,\r\n    ALL_ORDERS_FAIL,\r\n    UPDATE_ORDER_REQUEST,\r\n    UPDATE_ORDER_SUCCESS,\r\n    UPDATE_ORDER_RESET,\r\n    UPDATE_ORDER_FAIL,\r\n    DELETE_ORDER_REQUEST,\r\n    DELETE_ORDER_SUCCESS,\r\n    DELETE_ORDER_RESET,\r\n    DELETE_ORDER_FAIL,\r\n    ORDER_DETAILS_REQUEST,\r\n    ORDER_DETAILS_SUCCESS,\r\n    ORDER_DETAILS_FAIL,\r\n    CLEAR_ERRORS\r\n} from '../constants/orderConstants'\r\n\r\nexport const newOrderReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n\r\n        case CREATE_ORDER_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case CREATE_ORDER_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                order: action.payload\r\n            }\r\n\r\n        case CREATE_ORDER_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload \r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const myOrdersReducer = (state = { orders: [] }, action) => {\r\n    switch (action.type) {\r\n\r\n        case MY_ORDERS_REQUEST:\r\n            return {\r\n                loading: true\r\n            }\r\n\r\n        case MY_ORDERS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                orders: action.payload\r\n            }\r\n\r\n        case MY_ORDERS_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const orderDetailsReducer = (state = { order: {} }, action) => {\r\n    switch (action.type) {\r\n\r\n        case ORDER_DETAILS_REQUEST:\r\n            return {\r\n                loading: true\r\n            }\r\n\r\n        case ORDER_DETAILS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                order: action.payload\r\n            }\r\n\r\n        case ORDER_DETAILS_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const allOrdersReducer = (state = { orders: [] }, action) => {\r\n    switch (action.type) {\r\n\r\n        case ALL_ORDERS_REQUEST:\r\n            return {\r\n                loading: true\r\n            }\r\n\r\n        case ALL_ORDERS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                orders: action.payload.orders,\r\n                totalAmount: action.payload.totalAmount\r\n            }\r\n\r\n        case ALL_ORDERS_FAIL:\r\n            return {\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const orderReducer = (state = {}, action) => {\r\n    switch (action.type) {\r\n\r\n        case UPDATE_ORDER_REQUEST:\r\n        case DELETE_ORDER_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case UPDATE_ORDER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isUpdated: action.payload\r\n            }\r\n\r\n        case DELETE_ORDER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                isDeleted: action.payload\r\n            }\r\n\r\n        case UPDATE_ORDER_FAIL:\r\n        case DELETE_ORDER_FAIL:\r\n            return {\r\n                ...state,\r\n                error: action.payload\r\n            }\r\n\r\n        case UPDATE_ORDER_RESET:\r\n            return {\r\n                ...state,\r\n                isUpdated: false\r\n            }\r\n\r\n        case DELETE_ORDER_RESET:\r\n            return {\r\n                ...state,\r\n                isDeleted: false\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\r\n\r\nimport Header from './components/layout/Header';\r\nimport Footer from './components/layout/Footer';\r\n\r\nimport Home from './components/Home';\r\nimport ProductDetails from './components/product/ProductDetails';\r\n\r\n// Cart Imports\r\nimport Cart from './components/cart/Cart';\r\nimport Shipping from './components/cart/Shipping';\r\nimport ConfirmOrder from './components/cart/ConfirmOrder';\r\nimport Payment from './components/cart/Payment';\r\nimport OrderSuccess from './components/cart/OrderSuccess';\r\n\r\n// Order Imports\r\nimport ListOrders from './components/order/ListOrders';\r\nimport OrderDetails from './components/order/OrderDetails';\r\n\r\n// Auth or User imports\r\nimport Login from './components/user/Login';\r\nimport Register from './components/user/Register';\r\nimport Profile from './components/user/Profile';\r\nimport UpdateProfile from './components/user/UpdateProfile';\r\nimport UpdatePassword from './components/user/UpdatePassword';\r\nimport ForgotPassword from './components/user/ForgotPassword';\r\nimport NewPassword from './components/user/NewPassword';\r\n\r\n// Admin Imports\r\nimport Dashboard from './components/admin/Dashboard';\r\nimport ProductsList from './components/admin/ProductsList';\r\nimport NewProduct from './components/admin/NewProduct';\r\nimport UpdateProduct from './components/admin/UpdateProduct';\r\nimport OrdersList from './components/admin/OrdersList';\r\nimport ProcessOrder from './components/admin/ProcessOrder';\r\nimport UsersList from './components/admin/UsersList';\r\nimport UpdateUser from './components/admin/UpdateUser';\r\nimport ProductReviews from './components/admin/ProductReviews';\r\n\r\nimport ProtectedRoute from './components/route/ProtectedRoute';\r\nimport { loadUser } from './actions/userActions';\r\nimport { useSelector } from 'react-redux';\r\nimport store from './store';\r\n\r\n// Payment\r\nimport { Elements } from '@stripe/react-stripe-js';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\n\r\nfunction App() {\r\n  const [stripeApiKey, setStripeApiKey] = useState('');\r\n\r\n  useEffect(() => {\r\n    store.dispatch(loadUser());\r\n\r\n \r\n\r\n    setStripeApiKey(\r\n      'pk_test_51KSdQVSCo3iNZ6M6ryNOpFQfNK7PaKFGyOuleBnvsGUB4lcBMbgWcAM7jTCb8CkD9bPaoB9AliKCjZBqB9ck5BU600snkpKRTM'\r\n    );\r\n  }, []);\r\n\r\n  const { user, isAuthenticated, loading } = useSelector((state) => state.auth);\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Header />\r\n        <div className=\"container container-fluid\">\r\n          <Route path=\"/\" component={Home} exact />\r\n          <Route path=\"/search/:keyword\" component={Home} />\r\n          <Route path=\"/product/:id\" component={ProductDetails} exact />\r\n\r\n          <Route path=\"/cart\" component={Cart} exact />\r\n          <ProtectedRoute path=\"/shipping\" component={Shipping} />\r\n          <ProtectedRoute path=\"/confirm\" component={ConfirmOrder} exact />\r\n          <ProtectedRoute path=\"/success\" component={OrderSuccess} />\r\n          {stripeApiKey && (\r\n            <Elements stripe={loadStripe(stripeApiKey)}>\r\n              <ProtectedRoute path=\"/payment\" component={Payment} />\r\n            </Elements>\r\n          )}\r\n\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/register\" component={Register} />\r\n          <Route path=\"/password/forgot\" component={ForgotPassword} exact />\r\n          <Route path=\"/password/reset/:token\" component={NewPassword} exact />\r\n          <ProtectedRoute path=\"/me\" component={Profile} exact />\r\n          <ProtectedRoute path=\"/me/update\" component={UpdateProfile} exact />\r\n          <ProtectedRoute\r\n            path=\"/password/update\"\r\n            component={UpdatePassword}\r\n            exact\r\n          />\r\n\r\n          <ProtectedRoute path=\"/orders/me\" component={ListOrders} exact />\r\n          <ProtectedRoute path=\"/order/:id\" component={OrderDetails} exact />\r\n        </div>\r\n\r\n        <ProtectedRoute\r\n          path=\"/dashboard\"\r\n          isAdmin={true}\r\n          component={Dashboard}\r\n          exact\r\n        />\r\n        <ProtectedRoute\r\n          path=\"/admin/products\"\r\n          isAdmin={true}\r\n          component={ProductsList}\r\n          exact\r\n        />\r\n        <ProtectedRoute\r\n          path=\"/admin/product\"\r\n          isAdmin={true}\r\n          component={NewProduct}\r\n          exact\r\n        />\r\n        <ProtectedRoute\r\n          path=\"/admin/product/:id\"\r\n          isAdmin={true}\r\n          component={UpdateProduct}\r\n          exact\r\n        />\r\n        <ProtectedRoute\r\n          path=\"/admin/orders\"\r\n          isAdmin={true}\r\n          component={OrdersList}\r\n          exact\r\n        />\r\n        <ProtectedRoute\r\n          path=\"/admin/order/:id\"\r\n          isAdmin={true}\r\n          component={ProcessOrder}\r\n          exact\r\n        />\r\n        <ProtectedRoute\r\n          path=\"/admin/users\"\r\n          isAdmin={true}\r\n          component={UsersList}\r\n          exact\r\n        />\r\n        <ProtectedRoute\r\n          path=\"/admin/user/:id\"\r\n          isAdmin={true}\r\n          component={UpdateUser}\r\n          exact\r\n        />\r\n        <ProtectedRoute\r\n          path=\"/admin/reviews\"\r\n          isAdmin={true}\r\n          component={ProductReviews}\r\n          exact\r\n        />\r\n\r\n        {!loading && (!isAuthenticated || user.role !== 'admin') && <Footer />}\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\n\r\nimport { positions, transitions, Provider as AlertProvider } from 'react-alert';\r\nimport AlertTemplate from 'react-alert-template-basic'\r\n\r\nconst options = {\r\n  timeout: 5000,\r\n  position: positions.BOTTOM_CENTER,\r\n  transition: transitions.SCALE\r\n}\r\n\r\nReactDOM.render(\r\n  <Provider store={store} >\r\n    <AlertProvider template={AlertTemplate} {...options}>\r\n      <App />\r\n    </AlertProvider>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}